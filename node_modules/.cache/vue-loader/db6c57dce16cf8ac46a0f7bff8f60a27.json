{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\task-list\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\task-list\\index.vue","mtime":1710063488118},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgcGFuVXRpbCBmcm9tICcuLi8uLi91dGlscy9jb21tb24nCmltcG9ydCB7bWFwTXV0YXRpb25zLCBtYXBHZXR0ZXJzfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlBhblRhc2tMaXN0IiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY29sb3JzOiBbCiAgICAgICAgICAgICAgICB7Y29sb3I6ICcjOTA5Mzk5JywgcGVyY2VudGFnZTogMzB9LAogICAgICAgICAgICAgICAge2NvbG9yOiAnI2U2YTIzYycsIHBlcmNlbnRhZ2U6IDcwfSwKICAgICAgICAgICAgICAgIHtjb2xvcjogJyM2N2MyM2EnLCBwZXJjZW50YWdlOiAxMDB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGZpbGVTdGF0dXM6IHBhblV0aWwuZmlsZVN0YXR1cwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwTXV0YXRpb25zKHsKICAgICAgICAgICAgcGF1c2VUYXNrOiAndGFzay9wYXVzZScsCiAgICAgICAgICAgIHJlc3VtZVRhc2s6ICd0YXNrL3Jlc3VtZScsCiAgICAgICAgICAgIGNhbmNlbFRhc2s6ICd0YXNrL2NhbmNlbCcsCiAgICAgICAgICAgIHJldHJ5VGFzazogJ3Rhc2svcmV0cnknLAogICAgICAgICAgICBjaGFuZ2VUYXNrTGlzdFZpZXc6ICd0YXNrL2NoYW5nZVZpZXdGbGFnJwogICAgICAgIH0pLAogICAgICAgIHBhdXNlVXBsb2FkKGZpbGVuYW1lKSB7CiAgICAgICAgICAgIHRoaXMucGF1c2VUYXNrKGZpbGVuYW1lKQogICAgICAgIH0sCiAgICAgICAgcmVzdW1lVXBsb2FkKGZpbGVuYW1lKSB7CiAgICAgICAgICAgIHRoaXMucmVzdW1lVGFzayhmaWxlbmFtZSkKICAgICAgICB9LAogICAgICAgIGNhbmNlbFVwbG9hZChmaWxlbmFtZSkgewogICAgICAgICAgICB0aGlzLmNhbmNlbFRhc2soZmlsZW5hbWUpCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn5paH5Lu277yaJyArIGZpbGVuYW1lICsgJyDlj5bmtojkuIrkvKAnKQogICAgICAgIH0sCiAgICAgICAgcmV0cnlVcGxvYWQoZmlsZW5hbWUpIHsKICAgICAgICAgICAgdGhpcy5yZXRyeVRhc2soZmlsZW5hbWUpCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwR2V0dGVycyhbJ3VwbG9hZFRhc2tGbGFnJywgJ3VwbG9hZFRhc2tOdW0nLCAndXBsb2FkVGFza0xpc3QnLCAndGFza0xpc3RWaWV3RmxhZyddKQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICB9LAogICAgd2F0Y2g6IHt9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/task-list","sourcesContent":["<template>\n    <div>\n        <el-badge :max=\"99\" :value=\"uploadTaskNum\" :hidden=\"uploadTaskFlag\" class=\"item\" type=\"danger\">\n            <el-popover\n                    title=\"上传任务列表\"\n                    placement=\"bottom-end\"\n                    width=\"600\"\n                    trigger=\"manual\"\n                    :value=\"taskListViewFlag\"\n            >\n                <div class=\"pan-upload-task-items-content\">\n                    <el-table\n                            empty-text=\"暂无传输任务\"\n                            :data=\"uploadTaskList\"\n                            height=\"300px\"\n                            style=\"width: 100%\">\n                        <el-table-column\n                                align=\"center\"\n                                header-align=\"center\"\n                                label=\"文件名称\"\n                                prop=\"filename\"\n                                width=\"120\"\n                                :show-overflow-tooltip=\"true\"\n                        >\n                        </el-table-column>\n                        <el-table-column\n                                align=\"center\"\n                                header-align=\"center\"\n                                label=\"文件状态\"\n                                width=\"120\">\n                            <template slot-scope=\"scope\">\n                                <el-popover trigger=\"hover\" placement=\"top\">\n                                    <p>状态: {{ scope.row.statusText }}</p>\n                                    <div slot=\"reference\" class=\"name-wrapper\">\n                                        <el-button v-show=\"scope.row.status === fileStatus.WAITING.code\" size=\"mini\" icon=\"el-icon-watch\" circle></el-button>\n                                        <el-button v-show=\"scope.row.status === fileStatus.PAUSE.code\" size=\"mini\" type=\"warning\" icon=\"el-icon-video-play\" circle></el-button>\n                                        <el-button v-show=\"scope.row.status === fileStatus.UPLOADING.code\" size=\"mini\" type=\"success\" icon=\"el-icon-upload2\" circle></el-button>\n                                        <el-button v-show=\"scope.row.status === fileStatus.FAIL.code\" size=\"mini\" type=\"danger\" icon=\"el-icon-error\" circle></el-button>\n                                        <el-button v-show=\"scope.row.status === fileStatus.PARSING.code\" size=\"mini\" type=\"info\" icon=\"el-icon-loading\" circle></el-button>\n                                        <el-button v-show=\"scope.row.status === fileStatus.MERGE.code\" size=\"mini\" type=\"primary\" icon=\"el-icon-cpu\" circle></el-button>\n                                    </div>\n                                </el-popover>\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                                align=\"center\"\n                                header-align=\"center\"\n                                label=\"上传进度\"\n                                width=\"180\">\n                            <template slot-scope=\"scope\">\n                                <el-popover trigger=\"hover\" placement=\"top\">\n                                    <p>上传速度: {{ scope.row.speed }} </p>\n                                    <p>上传大小: {{ scope.row.uploadedSize }}/{{ scope.row.fileSize }} </p>\n                                    <p>剩余时间: {{ scope.row.timeRemaining }} </p>\n                                    <div slot=\"reference\" class=\"name-wrapper\">\n                                        <el-progress :stroke-width=\"13\" :color=\"colors\" :percentage=\"scope.row.percentage\"></el-progress>\n                                    </div>\n                                </el-popover>\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                                align=\"center\"\n                                header-align=\"center\"\n                                label=\"操作\"\n                                width=\"180\">\n                            <template slot-scope=\"scope\">\n                                <el-tooltip v-show=\"scope.row.status === fileStatus.UPLOADING.code\" class=\"item\"\n                                            effect=\"light\" content=\"暂停上传\" placement=\"top\">\n                                    <el-button @click=\"pauseUpload(scope.row.filename)\" size=\"mini\" type=\"info\"\n                                               icon=\"el-icon-video-pause\" circle></el-button>\n                                </el-tooltip>\n                                <el-tooltip v-show=\"scope.row.status === fileStatus.PAUSE.code\" class=\"item\"\n                                            effect=\"light\" content=\"继续上传\" placement=\"top\">\n                                    <el-button @click=\"resumeUpload(scope.row.filename)\" size=\"mini\" type=\"success\"\n                                               icon=\"el-icon-video-play\" circle></el-button>\n                                </el-tooltip>\n                                <el-tooltip v-show=\"scope.row.status === fileStatus.UPLOADING.code || scope.row.status === fileStatus.WAITING.code || scope.row.status === fileStatus.PAUSE.code\" class=\"item\"\n                                            effect=\"light\" content=\"取消上传\" placement=\"top\">\n                                    <el-button @click=\"cancelUpload(scope.row.filename)\" size=\"mini\"\n                                               icon=\"el-icon-error\" circle></el-button>\n                                </el-tooltip>\n                                <el-tooltip v-show=\"scope.row.status === fileStatus.FAIL.code\" class=\"item\"\n                                            effect=\"light\" content=\"重新上传\" placement=\"top\">\n                                    <el-button @click=\"retryUpload(scope.row.filename)\" size=\"mini\" type=\"warning\"\n                                               icon=\"el-icon-refresh-right\" circle></el-button>\n                                </el-tooltip>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n                <el-button slot=\"reference\" @click=\"changeTaskListView\" size=\"small\" icon=\"el-icon-sort\"></el-button>\n            </el-popover>\n        </el-badge>\n    </div>\n</template>\n\n<script>\n\n    import panUtil from '../../utils/common'\n    import {mapMutations, mapGetters} from 'vuex'\n\n    export default {\n        name: \"PanTaskList\",\n        data() {\n            return {\n                colors: [\n                    {color: '#909399', percentage: 30},\n                    {color: '#e6a23c', percentage: 70},\n                    {color: '#67c23a', percentage: 100}\n                ],\n                fileStatus: panUtil.fileStatus\n            }\n        },\n        methods: {\n            ...mapMutations({\n                pauseTask: 'task/pause',\n                resumeTask: 'task/resume',\n                cancelTask: 'task/cancel',\n                retryTask: 'task/retry',\n                changeTaskListView: 'task/changeViewFlag'\n            }),\n            pauseUpload(filename) {\n                this.pauseTask(filename)\n            },\n            resumeUpload(filename) {\n                this.resumeTask(filename)\n            },\n            cancelUpload(filename) {\n                this.cancelTask(filename)\n                this.$message.info('文件：' + filename + ' 取消上传')\n            },\n            retryUpload(filename) {\n                this.retryTask(filename)\n            }\n        },\n        computed: {\n            ...mapGetters(['uploadTaskFlag', 'uploadTaskNum', 'uploadTaskList', 'taskListViewFlag'])\n        },\n        mounted() {\n        },\n        watch: {}\n    }\n</script>\n\n<style scoped>\n    .pan-upload-task-items-content {\n        height: 300px;\n    }\n\n    .pan-upload-task-items-content .infinite-list {\n        height: 100%;\n        overflow: auto;\n    }\n\n    .el-badge.item {\n        line-height: 38px;\n    }\n</style>"]}]}