{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\views\\preview\\music\\index.vue?vue&type=style&index=0&id=1264c9f7&scoped=true&lang=css&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\views\\preview\\music\\index.vue","mtime":1710063489156},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wYW4tbXVzaWMtY29udGVudCB7CiAgICB3aWR0aDogMTAwJTsKICAgIG1hcmdpbi10b3A6IDYycHg7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnBhbi1tdXNpYy1jb250ZW50IC5tdXNpYy1uYW1lLWNvbnRlbnQgewogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMTAwJTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIHBhZGRpbmc6IDEwcHggMCAwIDA7Cn0KCi5wYW4tbXVzaWMtY29udGVudCAubXVzaWMtbmFtZS1jb250ZW50IC5tdXNpYy1uYW1lIHsKICAgIGNvbG9yOiAjNDA5RUZGOwogICAgZm9udC1zaXplOiAzNXB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBmb250LWZhbWlseTogIkhlbHZldGljYSBOZXVlIiwgSGVsdmV0aWNhLCAiUGluZ0ZhbmcgU0MiLCAiSGlyYWdpbm8gU2FucyBHQiIsICJNaWNyb3NvZnQgWWFIZWkiLCAi5b6u6L2v6ZuF6buRIiwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KCi5wYW4tbXVzaWMtY29udGVudCAucmVjb3JkLWltZy1jb250ZW50IHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgbWFyZ2luLXRvcDogODBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLnBhbi1tdXNpYy1jb250ZW50IC5yZWNvcmQtaW1nLWNvbnRlbnQgLnJlY29yZC1pbWcgewogICAgd2lkdGg6IDMwMHB4Owp9CgoucGFuLW11c2ljLWNvbnRlbnQgLm11c2ljLWNvbnRlbnQgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMHB4OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBtYXJnaW4tdG9wOiA2MHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgoucGFuLW11c2ljLWNvbnRlbnQgLm11c2ljLWNvbnRlbnQgI3JfcGFuX211c2ljX3BsYXllciB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB3aWR0aDogMTAwJTsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGJvdHRvbTogMTBweDsKICAgIGxlZnQ6IDA7Cn0KCi5wYW4tbXVzaWMtY29udGVudCAubXVzaWMtbGlzdC1jb250ZW50IHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAwIGF1dG87CiAgICB3aWR0aDogMjUwcHg7CiAgICBoZWlnaHQ6IDUwMHB4OwogICAgbGluZS1oZWlnaHQ6IDUwMHB4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnBhbi1tdXNpYy1jb250ZW50IC5tdXNpYy1saXN0LWNvbnRlbnQgLm11c2ljLWxpc3QgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvdmVyZmxvdzogc2Nyb2xsOwp9CgoucGFuLW11c2ljLWNvbnRlbnQgLm11c2ljLWxpc3QgaSB7CiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7Cn0KCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/preview/music","sourcesContent":["/**\n* Created by rubin on 2020/7/5.\n*/\n\n<template>\n    <div>\n        <pan-simple-header/>\n        <div class=\"pan-music-content\">\n            <div class=\"music-name-content\">\n                <p class=\"music-name\">{{musicName}}</p>\n            </div>\n            <el-divider></el-divider>\n            <el-row>\n                <el-col :span=\"18\">\n                    <div class=\"record-img-content\">\n                        <img class=\"record-img\" src=\"@/assets/imgs/record.png\">\n                    </div>\n                    <!--音频播放容器-->\n                    <div class=\"music-content\">\n                        <audio id=\"r_pan_music_player\" :src=\"musicShowPath\" autoplay=\"true\" controls=\"true\"/>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"music-list-content\">\n                        <el-menu class=\"music-list\"\n                                 :default-active=\"activeIndex\"\n                                 @select=\"selectMusic\">\n                            <el-menu-item v-for=\"(item, index) in musicList\" :key=\"index\" :index=\"item.fileId\">\n                                <i class=\"fa fa-music\"></i>\n                                <span slot=\"title\">{{ item.filename }}</span>\n                            </el-menu-item>\n                        </el-menu>\n                    </div>\n                </el-col>\n            </el-row>\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import PanSimpleHeader from '../../../components/simple-header'\n    import fileService from '../../../api/file'\n    import panUtil from '../../../utils/common'\n\n    export default {\n        name: 'Music',\n        data() {\n            return {\n                musicName: '',\n                musicList: [],\n                musicShowPath: '',\n                activeIndex: '0'\n            }\n        },\n        components: { PanSimpleHeader },\n        methods: {\n            init() {\n                let _this = this\n                fileService.list({\n                    parentId: _this.$route.params.parentId,\n                    fileTypes: '8'\n                }, res => {\n                    _this.renderMusicList(res.data)\n                    _this.listenMusicPlayer()\n                }, res => {\n                    _this.$message.error(res.message)\n                })\n            },\n            selectMusic(index, indexPath) {\n                this.activeIndex = index\n                this.musicList.some(item => {\n                    if (item.fileId === index) {\n                        this.musicName = item.filename\n                        this.musicShowPath = panUtil.getPreviewUrl(item.fileId)\n                        return true\n                    }\n                })\n            },\n            renderMusicList(dataList) {\n                let _this = this\n                _this.musicList = new Array()\n                dataList.forEach((item, index) => {\n                    item.filename = item.filename.substring(0, item.filename.lastIndexOf('.'))\n                    if (item.filename.length > 15) {\n                        item.filename = item.filename.substring(0, 16) + '...'\n                    }\n                    if (item.fileId === _this.$route.params.fileId) {\n                        _this.musicName = item.filename\n                        _this.musicShowPath = panUtil.getPreviewUrl(item.fileId)\n                    }\n                    _this.musicList.push(item)\n                    _this.activeIndex = _this.$route.params.fileId\n                })\n            },\n            selectNext(currentFileId) {\n                let i\n                this.musicList.some((item, index) => {\n                    if (item.fileId === currentFileId) {\n                        i = index\n                        return true\n                    }\n                })\n                if (i === this.musicList.length - 1) {\n                    return\n                }\n                let item = this.musicList[++i]\n                this.musicName = item.filename\n                this.musicShowPath = panUtil.getPreviewUrl(item.fileId)\n                this.activeIndex = item.fileId\n            },\n            listenMusicPlayer() {\n                let _this = this\n                document.getElementById('r_pan_music_player').addEventListener('ended', () => {\n                    _this.selectNext(_this.activeIndex)\n                }, false)\n            }\n        },\n        mounted() {\n            //确保页面元素加载完成之后调用\n            this.init()\n        },\n        watch: {}\n    }\n</script>\n\n<style scoped>\n    .pan-music-content {\n        width: 100%;\n        margin-top: 62px;\n        display: block;\n    }\n\n    .pan-music-content .music-name-content {\n        display: block;\n        width: 100%;\n        text-align: center;\n        padding: 10px 0 0 0;\n    }\n\n    .pan-music-content .music-name-content .music-name {\n        color: #409EFF;\n        font-size: 35px;\n        font-weight: bold;\n        font-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微软雅黑\", Arial, sans-serif;\n    }\n\n    .pan-music-content .record-img-content {\n        display: inline-block;\n        width: 100%;\n        height: 100%;\n        margin-top: 80px;\n        text-align: center;\n    }\n\n    .pan-music-content .record-img-content .record-img {\n        width: 300px;\n    }\n\n    .pan-music-content .music-content {\n        width: 100%;\n        height: 100px;\n        display: block;\n        margin-top: 60px;\n        text-align: center;\n        position: relative;\n    }\n\n    .pan-music-content .music-content #r_pan_music_player {\n        display: inline-block;\n        width: 100%;\n        position: absolute;\n        bottom: 10px;\n        left: 0;\n    }\n\n    .pan-music-content .music-list-content {\n        display: block;\n        margin: 0 auto;\n        width: 250px;\n        height: 500px;\n        line-height: 500px;\n        overflow: hidden;\n    }\n\n    .pan-music-content .music-list-content .music-list {\n        width: 100%;\n        height: 100%;\n        overflow: scroll;\n    }\n\n    .pan-music-content .music-list i {\n        margin-right: 15px;\n    }\n\n</style>\n"]}]}