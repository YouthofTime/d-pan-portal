{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\views\\preview\\video\\index.vue?vue&type=style&index=0&id=6d4f3ce0&scoped=true&lang=css&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\views\\preview\\video\\index.vue","mtime":1710063489228},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhbi12aWRlby1jb250ZW50IHsKICAgIHdpZHRoOiAxMDAlOwogICAgbWFyZ2luLXRvcDogNjJweDsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgoucGFuLXZpZGVvLWNvbnRlbnQgLnZpZGVvLW5hbWUtY29udGVudCB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogMTBweCAwIDAgMDsKfQoKLnBhbi12aWRlby1jb250ZW50IC52aWRlby1uYW1lLWNvbnRlbnQgLnZpZGVvLW5hbWUgewogICAgY29sb3I6ICM0MDlFRkY7CiAgICBmb250LXNpemU6IDM1cHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGZvbnQtZmFtaWx5OiAiSGVsdmV0aWNhIE5ldWUiLCBIZWx2ZXRpY2EsICJQaW5nRmFuZyBTQyIsICJIaXJhZ2lubyBTYW5zIEdCIiwgIk1pY3Jvc29mdCBZYUhlaSIsICLlvq7ova/pm4Xpu5EiLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoKLnBhbi12aWRlby1jb250ZW50IC52aWRlby1jb250ZW50IHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDBweDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgoucGFuLXZpZGVvLWNvbnRlbnQgLnZpZGVvLWNvbnRlbnQgI3JfcGFuX3ZpZGVvX3BsYXllciB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogNTAwcHg7CiAgICBsaW5lLWhlaWdodDogNTAwcHg7Cn0KCi5wYW4tdmlkZW8tY29udGVudCAudmlkZW8tbGlzdC1jb250ZW50IHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAwIGF1dG87CiAgICB3aWR0aDogMjUwcHg7CiAgICBoZWlnaHQ6IDUwMHB4OwogICAgbGluZS1oZWlnaHQ6IDUwMHB4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnBhbi12aWRlby1jb250ZW50IC52aWRlby1saXN0LWNvbnRlbnQgLnZpZGVvLWxpc3QgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvdmVyZmxvdzogc2Nyb2xsOwp9CgoucGFuLXZpZGVvLWNvbnRlbnQgLnZpZGVvLWxpc3QgaSB7CiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7Cn0KCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/preview/video","sourcesContent":["/**\n* Created by rubin on 2020/7/5.\n*/\n\n<template>\n    <div>\n        <pan-simple-header/>\n        <div class=\"pan-video-content\">\n            <div class=\"video-name-content\">\n                <p class=\"video-name\">{{ videoName }}</p>\n            </div>\n            <el-divider></el-divider>\n            <el-row>\n                <el-col :span=\"18\">\n                    <!--视频播放容器-->\n                    <div class=\"video-content\">\n                        <video id=\"r_pan_video_player\" :src=\"videoShowPath\" autoplay=\"true\" controls=\"true\"/>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"video-list-content\">\n                        <el-menu class=\"video-list\"\n                                 :default-active=\"activeIndex\"\n                                 @select=\"selectVideo\">\n                            <el-menu-item v-for=\"(item, index) in videoList\" :key=\"index\" :index=\"item.fileId\">\n                                <i class=\"fa fa-video-camera\"></i>\n                                <span slot=\"title\">{{ item.filename }}</span>\n                            </el-menu-item>\n                        </el-menu>\n                    </div>\n                </el-col>\n            </el-row>\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import PanSimpleHeader from '../../../components/simple-header'\n    import fileService from '../../../api/file'\n    import panUtil from '../../../utils/common'\n\n    export default {\n        name: 'Video',\n        data() {\n            return {\n                videoName: '',\n                activeIndex: '',\n                videoShowPath: '',\n                videoList: []\n            }\n        },\n        components: { PanSimpleHeader },\n        methods: {\n            init() {\n                let _this = this\n                fileService.list({\n                    parentId: _this.$route.params.parentId,\n                    fileTypes: '9'\n                }, function (res) {\n                    if (res.status === 0) {\n                        _this.renderVideoList(res.data)\n                        _this.listenVideoPlayer()\n                    } else {\n                        _this.$message.error(res.message)\n                    }\n                }, function (err) {\n                    _this.$message.error(err)\n                })\n            },\n            selectVideo(index) {\n                this.activeIndex = index\n                this.videoList.some(item => {\n                    if (item.fileId === index) {\n                        this.videoName = item.fileName\n                        this.videoShowPath = panUtil.getPreviewUrl(item.fileId)\n                        return true\n                    }\n                })\n            },\n            renderVideoList(dataList) {\n                let _this = this\n                _this.videoList = new Array()\n                dataList.forEach((item, index) => {\n                    item.filename = item.filename.substring(0, item.filename.lastIndexOf('.'))\n                    if (item.filename.length > 15) {\n                        item.filename = item.filename.substring(0, 16) + '...'\n                    }\n                    if (item.fileId === _this.$route.params.fileId) {\n                        _this.videoName = item.filename\n                        _this.videoShowPath = panUtil.getPreviewUrl(item.fileId)\n                    }\n                    _this.videoList.push(item)\n                    _this.activeIndex = _this.$route.params.fileId\n                })\n            },\n            listenVideoPlayer() {\n                let _this = this\n                document.getElementById('r_pan_video_player').addEventListener('ended', () => {\n                    _this.selectNext(_this.activeIndex)\n                }, false)\n            },\n            selectNext(currentFileId) {\n                let i\n                this.videoList.some((item, index) => {\n                    if (item.fileId === currentFileId) {\n                        i = index\n                        return true\n                    }\n                })\n                if (i === this.videoList.length - 1) {\n                    return\n                }\n                let item = this.videoList[++i]\n                this.videoName = item.filename\n                this.videoShowPath = panUtil.getPreviewUrl(item.fileId)\n                this.activeIndex = item.fileId\n            }\n        },\n        mounted() {\n            //确保页面元素加载完成之后调用\n            this.init()\n        },\n        watch: {}\n    }\n</script>\n\n<style scoped>\n\n    .pan-video-content {\n        width: 100%;\n        margin-top: 62px;\n        display: block;\n    }\n\n    .pan-video-content .video-name-content {\n        display: block;\n        width: 100%;\n        text-align: center;\n        padding: 10px 0 0 0;\n    }\n\n    .pan-video-content .video-name-content .video-name {\n        color: #409EFF;\n        font-size: 35px;\n        font-weight: bold;\n        font-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微软雅黑\", Arial, sans-serif;\n    }\n\n    .pan-video-content .video-content {\n        width: 100%;\n        height: 100px;\n        display: block;\n        text-align: center;\n    }\n\n    .pan-video-content .video-content #r_pan_video_player {\n        display: inline-block;\n        width: 100%;\n        height: 500px;\n        line-height: 500px;\n    }\n\n    .pan-video-content .video-list-content {\n        display: block;\n        margin: 0 auto;\n        width: 250px;\n        height: 500px;\n        line-height: 500px;\n        overflow: hidden;\n    }\n\n    .pan-video-content .video-list-content .video-list {\n        width: 100%;\n        height: 100%;\n        overflow: scroll;\n    }\n\n    .pan-video-content .video-list i {\n        margin-right: 15px;\n    }\n\n</style>\n"]}]}