{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\views\\share\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\views\\share\\index.vue","mtime":1710063489300},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgcGFuVXRpbCBmcm9tICcuLi8uLi91dGlscy9jb21tb24nCmltcG9ydCB1c2VyU2VydmljZSBmcm9tICcuLi8uLi9hcGkvdXNlcicKaW1wb3J0IGZpbGVTZXJ2aWNlIGZyb20gJy4uLy4uL2FwaS9maWxlJwppbXBvcnQge2NsZWFyVG9rZW4sIHNldFRva2VuLCBzZXRTaGFyZVRva2VuLCBnZXRTaGFyZVRva2VuLCBnZXRUb2tlbiwgY2xlYXJTaGFyZVRva2VufSBmcm9tICcuLi8uLi91dGlscy9jb29raWUnCmltcG9ydCBzaGFyZVNlcnZpY2UgZnJvbSAnLi4vLi4vYXBpL3NoYXJlJwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlNoYXJlIiwKICAgIGNvbXBvbmVudHM6IHt9LAogICAgcHJvcHM6IHt9LAogICAgZGF0YSgpIHsKICAgICAgICBjb25zdCBjaGVja1VzZXJuYW1lID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgICAgICAgICAgaWYgKCFwYW5VdGlsLmNoZWNrVXNlcm5hbWUodmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soJ+ivt+i+k+WFpTYtMTbkvY3lj6rljIXlkKvmlbDlrZflkozlrZfmr43nmoTnlKjmiLflkI0nKQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICB9LAogICAgICAgICAgICBjaGVja1Bhc3N3b3JkID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgICAgICAgICAgaWYgKCFwYW5VdGlsLmNoZWNrUGFzc3dvcmQodmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soJ+ivt+i+k+WFpTgtMTbkvY3nmoTlr4bnoIEnKQogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbG9naW5EaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgbG9naW5SdWxlczogewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IFsKICAgICAgICAgICAgICAgICAgICB7dmFsaWRhdG9yOiBjaGVja1VzZXJuYW1lLCB0cmlnZ2VyOiAnYmx1cid9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgICAgICAgICAgICB7dmFsaWRhdG9yOiBjaGVja1Bhc3N3b3JkLCB0cmlnZ2VyOiAnYmx1cid9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNoYXJlQ29kZUZvcm1SdWxlczogewogICAgICAgICAgICAgICAgc2hhcmVDb2RlOiBbCiAgICAgICAgICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5o+Q5Y+W56CBJywgdHJpZ2dlcjogJ2JsdXInfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2dpbkZvcm06IHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgICAgICBsb2dpbkZsYWc6IGZhbHNlLAogICAgICAgICAgICBzaGFyZUNvZGVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgICAgICAgc2hhcmVDb2RlRm9ybTogewogICAgICAgICAgICAgICAgc2hhcmVDb2RlOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICBzaGFyZUNvZGVIZWFkZXI6ICcnLAogICAgICAgICAgICBzaGFyZUNhbmNlbEZsYWc6IGZhbHNlLAogICAgICAgICAgICB0YWJsZURhdGE6IFtdLAogICAgICAgICAgICB0YWJsZUhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gMzAwLAogICAgICAgICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgICAgICAgIHBhZ2VMb2FkaW5nOiB0cnVlLAogICAgICAgICAgICBzaGFyZURhdGU6ICcnLAogICAgICAgICAgICBzaGFyZUV4cGlyZURhdGU6ICcnLAogICAgICAgICAgICBicmVhZENydW1iczogW3sKICAgICAgICAgICAgICAgIGlkOiAnLTEnLAogICAgICAgICAgICAgICAgbmFtZTogJ+WFqOmDqOaWh+S7ticKICAgICAgICAgICAgfV0sCiAgICAgICAgICAgIHRyZWVEYXRhOiBbXSwKICAgICAgICAgICAgdHJlZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAgICAgICBpdGVtOiB1bmRlZmluZWQKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGxvYWRTaGFyZUluZm8oKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgc2hhcmVTZXJ2aWNlLmdldFNoYXJlRGV0YWlsKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnJlZnJlc2hTaGFyZUluZm8ocmVzLmRhdGEpCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT09IDQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5vcGVuU2hhcmVDb2RlUGFnZSgpCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzLm9wZW5TaGFyZUV4cGlyZVBhZ2UoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcmVmcmVzaFNoYXJlSW5mbyhkYXRhKSB7CiAgICAgICAgICAgIGxldCB1c2VybmFtZSA9IGRhdGEuc2hhcmVVc2VySW5mb1ZPLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgc2hhcmVOYW1lID0gZGF0YS5zaGFyZU5hbWUKICAgICAgICAgICAgdGhpcy5zaGFyZUNvZGVIZWFkZXIgPSB1c2VybmFtZSArICfnmoTliIbkuqvvvJonICsgc2hhcmVOYW1lCiAgICAgICAgICAgIHRoaXMuc2hhcmVEYXRlID0gZGF0YS5jcmVhdGVUaW1lCiAgICAgICAgICAgIGlmIChkYXRhLnNoYXJlRGF5ID09PSAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNoYXJlRXhwaXJlRGF0ZSA9ICfmsLjkuYXmnInmlYgnCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnNoYXJlRXhwaXJlRGF0ZSA9IGRhdGEuc2hhcmVFbmRUaW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhLnJQYW5Vc2VyRmlsZVZPTGlzdAogICAgICAgIH0sCiAgICAgICAgb3BlblNoYXJlQ29kZVBhZ2UoKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgc2hhcmVTZXJ2aWNlLmdldFNpbXBsZVNoYXJlRGV0YWlsKHsKICAgICAgICAgICAgICAgIHNoYXJlSWQ6IF90aGlzLmdldFNoYXJlSWQoKQogICAgICAgICAgICB9LCByZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXJlQ29kZURpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hhcmVDb2RlSGVhZGVyID0gcmVzLmRhdGEuc2hhcmVVc2VySW5mb1ZPLnVzZXJuYW1lICsgJ+eahOWIhuS6q++8micgKyByZXMuZGF0YS5zaGFyZU5hbWUKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hhcmVDb2RlRGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3BlblNoYXJlRXhwaXJlUGFnZSgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBvcGVuU2hhcmVFeHBpcmVQYWdlKCkgewogICAgICAgICAgICB0aGlzLnNoYXJlQ2FuY2VsRmxhZyA9IHRydWUKICAgICAgICB9LAogICAgICAgIGxvYWRVc2VySW5mbygpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICB1c2VyU2VydmljZS5pbmZvV2l0aG91dFBhZ2VKdW1wKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXJuYW1lID0gcmVzLmRhdGEudXNlcm5hbWUKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dpbkZsYWcgPSB0cnVlCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXJuYW1lID0gJycKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dpbkZsYWcgPSBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgbG9naW4oKSB7CiAgICAgICAgICAgIHRoaXMubG9naW5EaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICAgIH0sCiAgICAgICAgZXhpdCgpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICBfdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB6YCA5Ye655m75b2V5ZCXPycsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHVzZXJTZXJ2aWNlLmV4aXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNsZWFyVG9rZW4oKQogICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2luRmxhZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXNlcm5hbWUgPSAnJwogICAgICAgICAgICAgICAgfSwgcmVzID0+IHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBmb2N1c0lucHV0KHJlZikgewogICAgICAgICAgICB0aGlzLiRyZWZzW3JlZl0uZm9jdXMoKQogICAgICAgIH0sCiAgICAgICAgcmVzZXRGb3JtKHJlZikgewogICAgICAgICAgICB0aGlzLiRyZWZzW3JlZl0ucmVzZXRGaWVsZHMoKQogICAgICAgIH0sCiAgICAgICAgZG9Mb2dpbigpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICBfdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHVzZXJTZXJ2aWNlLmxvZ2luKHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IF90aGlzLmxvZ2luRm9ybS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLmxvZ2luRm9ybS5wYXNzd29yZAogICAgICAgICAgICAgICAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUb2tlbihyZXMuZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9naW5EaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZFVzZXJJbmZvKCkKICAgICAgICAgICAgICAgICAgICB9LCByZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdvSG9tZSgpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLycKICAgICAgICB9LAogICAgICAgIGRvQ2hlY2tTaGFyZUNvZGUoKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgX3RoaXMuJHJlZnMuc2hhcmVDb2RlRm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgc2hhcmVTZXJ2aWNlLmNoZWNrU2hhcmVDb2RlKHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVJZDogX3RoaXMuZ2V0U2hhcmVJZCgpLAogICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUNvZGU6IF90aGlzLnNoYXJlQ29kZUZvcm0uc2hhcmVDb2RlCiAgICAgICAgICAgICAgICAgICAgfSwgcmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hhcmVUb2tlbihyZXMuZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNoYXJlQ29kZURpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZFNoYXJlSW5mbygpCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShtdWx0aXBsZVNlbGVjdGlvbikgewogICAgICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gbXVsdGlwbGVTZWxlY3Rpb24KICAgICAgICB9LAogICAgICAgIHNob3dPcGVyYXRpb24ocm93LCBjb2x1bW4sIGNlbGwsIGV2ZW50KSB7CiAgICAgICAgICAgIHBhblV0aWwuc2hvd09wZXJhdGlvbihjZWxsKQogICAgICAgIH0sCiAgICAgICAgaGlkZGVuT3BlcmF0aW9uKHJvdywgY29sdW1uLCBjZWxsLCBldmVudCkgewogICAgICAgICAgICBwYW5VdGlsLmhpZGRlbk9wZXJhdGlvbihjZWxsKQogICAgICAgIH0sCiAgICAgICAgY2xpY2tGaWxlbmFtZShyb3cpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICBpZiAocm93LmZvbGRlckZsYWcgPT09IDEpIHsKICAgICAgICAgICAgICAgIF90aGlzLmdvSW5Gb2xkZXIocm93KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBnb0luRm9sZGVyKHJvdykgewogICAgICAgICAgICB0aGlzLmJyZWFkQ3J1bWJzLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHJvdy5maWxlSWQsCiAgICAgICAgICAgICAgICBuYW1lOiByb3cuZmlsZW5hbWUKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5yZWxvYWRUYWJsZURhdGEocm93LmZpbGVJZCkKICAgICAgICB9LAogICAgICAgIHJlbG9hZFRhYmxlRGF0YShwYXJlbnRJZCkgewogICAgICAgICAgICBsZXQgX3RoaXMgPSB0aGlzCiAgICAgICAgICAgIHNoYXJlU2VydmljZS5nZXRTaGFyZUZpbGVzKHsKICAgICAgICAgICAgICAgIHBhcmVudElkOiBwYXJlbnRJZAogICAgICAgICAgICB9LCByZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdvVG9UaGlzKGlkKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgaWYgKGlkID09PSAnLTEnKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5icmVhZENydW1icyA9IFt7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICctMScsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+WFqOmDqOaWh+S7ticKICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkU2hhcmVJbmZvKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBuZXdCcmVhZENydW1icyA9IG5ldyBBcnJheSgpCiAgICAgICAgICAgICAgICBfdGhpcy5icmVhZENydW1icy5zb21lKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIG5ld0JyZWFkQ3J1bWJzLnB1c2goaXRlbSkKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgX3RoaXMuYnJlYWRDcnVtYnMgPSBuZXdCcmVhZENydW1icwogICAgICAgICAgICAgICAgX3RoaXMucmVsb2FkVGFibGVEYXRhKGlkKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBnZXRTaGFyZUlkKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUucGFyYW1zLnNoYXJlSWQKICAgICAgICB9LAogICAgICAgIGRvd25sb2FkRmlsZSgpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICBpZiAoIV90aGlzLm11bHRpcGxlU2VsZWN0aW9uIHx8IF90aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqeimgeS4i+i9veeahOaWh+S7ticpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaUxlbmd0aCA9IF90aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aDsgaSA8IGlMZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKF90aGlzLm11bHRpcGxlU2VsZWN0aW9uW2ldLmZvbGRlckZsYWcgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign5paH5Lu25aS55pqC5LiN5pSv5oyB5LiL6L29JykKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy5kb0Rvd25Mb2FkcyhfdGhpcy5tdWx0aXBsZVNlbGVjdGlvbikKICAgICAgICB9LAogICAgICAgIGRvRG93bkxvYWRzKGl0ZW1zLCBpKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgaWYgKCFpKSB7CiAgICAgICAgICAgICAgICBpID0gMAogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IGkpIHsKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMuZG9Eb3dubG9hZChpdGVtc1tpXSk7CiAgICAgICAgICAgICAgICBpKysKICAgICAgICAgICAgICAgIF90aGlzLmRvRG93bkxvYWRzKGl0ZW1zLCBpKQogICAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0sCiAgICAgICAgZG9Eb3dubG9hZChpdGVtKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgaWYgKGl0ZW0uZm9sZGVyRmxhZyA9PT0gMSkgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aWh+S7tuWkueaaguS4jeaUr+aMgeS4i+i9vScpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICB1c2VyU2VydmljZS5pbmZvV2l0aG91dFBhZ2VKdW1wKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHNoYXJlU2VydmljZS5nZXRTaW1wbGVTaGFyZURldGFpbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlSWQ6IF90aGlzLmdldFNoYXJlSWQoKQogICAgICAgICAgICAgICAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gcGFuVXRpbC5nZXRVcmxQcmVmaXgoKSArICcvc2hhcmUvZmlsZS9kb3dubG9hZD9maWxlSWQ9JyArIGl0ZW0uZmlsZUlkICsgJyZzaGFyZVRva2VuPScgKyBnZXRTaGFyZVRva2VuKCkgKyAnJmF1dGhvcml6YXRpb249JyArIGdldFRva2VuKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBpdGVtLmZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gdXJsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlbmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluaykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkVXNlckluZm8oKQogICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2luKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHJlc2V0VHJlZURhdGEoKSB7CiAgICAgICAgICAgIHRoaXMudHJlZURhdGEgPSBuZXcgQXJyYXkoKQogICAgICAgICAgICB0aGlzLml0ZW0gPSB1bmRlZmluZWQKICAgICAgICB9LAogICAgICAgIGxvYWRUcmVlRGF0YSgpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICBmaWxlU2VydmljZS5nZXRGb2xkZXJUcmVlKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBfdGhpcy50cmVlRGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGRvQ2hvc2VUcmVlTm9kZUNhbGxCYWNrKCkgewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGxldCBjaGVja05vZGUgPSB0aGlzLiRyZWZzLnRyZWUuZ2V0Q3VycmVudE5vZGUoKQogICAgICAgICAgICBpZiAoIWNoZWNrTm9kZSkgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36YCJ5oup5paH5Lu25aS5JykKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRvU2F2ZUZpbGVzKGNoZWNrTm9kZS5pZCkKICAgICAgICB9LAogICAgICAgIHNhdmVGaWxlcyhpdGVtKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgICAgIF90aGlzLml0ZW0gPSBpdGVtCiAgICAgICAgICAgIH0gZWxzZSBpZiAoIV90aGlzLm11bHRpcGxlU2VsZWN0aW9uIHx8IF90aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqeimgeS/neWtmOeahOaWh+S7ticpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICB1c2VyU2VydmljZS5pbmZvV2l0aG91dFBhZ2VKdW1wKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnRyZWVEaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2dpbigpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBkb1NhdmVGaWxlcyh0YXJnZXRQYXJlbnRJZCkgewogICAgICAgICAgICBsZXQgX3RoaXMgPSB0aGlzCiAgICAgICAgICAgIGxldCBmaWxlSWRzID0gJycKICAgICAgICAgICAgaWYgKF90aGlzLml0ZW0pIHsKICAgICAgICAgICAgICAgIGZpbGVJZHMgPSBfdGhpcy5pdGVtLmZpbGVJZAogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IGZpbGVJZEFyciA9IG5ldyBBcnJheSgpCiAgICAgICAgICAgICAgICBfdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGZpbGVJZEFyci5wdXNoKGl0ZW0uZmlsZUlkKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGZpbGVJZHMgPSBmaWxlSWRBcnIuam9pbignX18sX18nKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHNoYXJlU2VydmljZS5zYXZlU2hhcmVGaWxlcyh7CiAgICAgICAgICAgICAgICBmaWxlSWRzOiBmaWxlSWRzLAogICAgICAgICAgICAgICAgdGFyZ2V0UGFyZW50SWQ6IHRhcmdldFBhcmVudElkCiAgICAgICAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpCiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJlZURpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSAxMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnRyZWVEaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkVXNlckluZm8oKQogICAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2luKCkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldEZpbGVGb250RWxlbWVudCh0eXBlKSB7CiAgICAgICAgICAgIHBhblV0aWwuZ2V0RmlsZUZvbnRFbGVtZW50KHR5cGUpCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7fSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgY2xlYXJTaGFyZVRva2VuKCkKICAgICAgICB0aGlzLmxvYWRTaGFyZUluZm8oKQogICAgICAgIHRoaXMubG9hZFVzZXJJbmZvKCkKICAgICAgICB0aGlzLnBhZ2VMb2FkaW5nID0gZmFsc2UKICAgIH0sCiAgICB3YXRjaDoge30KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/share","sourcesContent":["<template>\n    <div v-loading=\"pageLoading\" element-loading-text=\"加载中...\" class=\"pan-share-content\">\n        <div class=\"pan-share-header-content\">\n            <div class=\"pan-share-header-content-wrapper\">\n                <div class=\"pan-share-header-title-font-content\">\n                    <span class=\"pan-share-header-title-font\" @click=\"goHome\">R Pan</span>\n                </div>\n                <div v-if=\"loginFlag\" class=\"pan-share-header-user-info-content\">\n                    <el-link :underline=false type=\"success\" class=\"pan-share-username\">\n                        欢迎您,{{ username }}\n                    </el-link>\n                    <el-link :underline=false type=\"success\" class=\"pan-share-exit-button\" @click=\"exit\">\n                        退出\n                    </el-link>\n                </div>\n                <div v-if=\"!loginFlag\" class=\"pan-share-header-button-content\">\n                    <el-link :underline=false type=\"primary\" class=\"pan-share-login-button\" @click=\"login\">\n                        登录\n                    </el-link>\n                    <el-link :underline=false type=\"primary\" class=\"pan-share-register-button\" href=\"/register\"\n                             target=\"_blank\">\n                        注册\n                    </el-link>\n                </div>\n            </div>\n        </div>\n        <div class=\"pan-share-list-content\">\n            <div class=\"pan-share-list-wrapper\">\n                <el-card shadow=\"always\" class=\"pan-share-list-card\">\n                    <div v-if=\"!shareCancelFlag\" slot=\"header\" class=\"pan-share-list-card-header\">\n                        <div class=\"pan-share-list-card-header-share-info-content\">\n                            <span class=\"pan-share-list-card-header-share-info\">{{ shareCodeHeader }}</span>\n                            <div class=\"pan-share-list-card-header-time\">\n                                <span class=\"pan-share-list-card-header-create-date\"><i class=\"el-icon-time\"/>分享时间：{{ shareDate }}</span>\n                                <span class=\"pan-share-list-card-header-expire-date\"><i class=\"el-icon-time\"/>失效时间：{{ shareExpireDate }}</span>\n                            </div>\n                        </div>\n                        <div class=\"pan-share-list-card-button-group\">\n                            <el-button type=\"success\" size=\"medium\" round @click=\"saveFiles(undefined)\">保存到我的R盘<i\n                                    class=\"el-icon-document-copy el-icon--right\"/></el-button>\n                            <el-button type=\"info\" size=\"medium\" round @click=\"downloadFile\">下载<i\n                                    class=\"el-icon-download el-icon--right\"/></el-button>\n                        </div>\n                    </div>\n                    <div v-if=\"shareCancelFlag\" class=\"pan-share-list-card-error-message\">\n                        <span>Sorry,您来晚啦~ 该分享已到期或已失效~</span>\n                    </div>\n                    <div v-if=\"!shareCancelFlag\" class=\"pan-share-list-card-operate-content\">\n                        <div class=\"pan-share-list-card-operate-bread-crumb\">\n                            <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n                                <el-breadcrumb-item v-for=\"(item, index) in breadCrumbs\" :key=\"index\">\n                                    <a class=\"breadcrumb-item-a\" @click=\"goToThis(item.id)\" href=\"#\">{{ item.name }}</a>\n                                </el-breadcrumb-item>\n                            </el-breadcrumb>\n                        </div>\n                        <el-divider></el-divider>\n                    </div>\n                    <div v-if=\"!shareCancelFlag\" class=\"pan-share-list\">\n                        <el-table\n                                ref=\"fileTable\"\n                                :data=\"tableData\"\n                                :height=\"tableHeight\"\n                                tooltip-effect=\"dark\"\n                                style=\"width: 100%\"\n                                @selection-change=\"handleSelectionChange\"\n                                @cell-mouse-enter=\"showOperation\"\n                                @cell-mouse-leave=\"hiddenOperation\"\n                        >\n                            <el-table-column\n                                    type=\"selection\"\n                                    width=\"55\">\n                            </el-table-column>\n                            <el-table-column\n                                    label=\"文件名\"\n                                    prop=\"filename\"\n                                    sortable\n                                    show-overflow-tooltip\n                                    min-width=\"750\">\n                                <template slot-scope=\"scope\">\n                                    <div @click=\"clickFilename(scope.row)\" class=\"file-name-content\">\n                                        <i :class=\"getFileFontElement(scope.row.fileType)\"\n                                           style=\"margin-right: 15px; font-size: 20px; cursor: pointer;\"/>\n                                        <span style=\"cursor:pointer;\">{{ scope.row.filename }}</span>\n                                    </div>\n                                    <div class=\"file-operation-content\">\n                                        <el-tooltip class=\"item\" effect=\"light\" content=\"保存到我的R盘\" placement=\"top\">\n                                            <el-button type=\"success\" icon=\"el-icon-document-copy\" size=\"small\" circle @click=\"saveFiles(scope.row)\"/>\n                                        </el-tooltip>\n                                        <el-tooltip class=\"item\" effect=\"light\" content=\"下载\" placement=\"top\">\n                                            <el-button type=\"info\" icon=\"el-icon-download\" size=\"small\" circle @click=\"doDownload(scope.row)\"/>\n                                        </el-tooltip>\n                                    </div>\n                                </template>\n                            </el-table-column>\n                            <el-table-column\n                                    prop=\"fileSizeDesc\"\n                                    sortable\n                                    label=\"大小\"\n                                    min-width=\"120\"\n                                    align=\"center\">\n                            </el-table-column>\n                            <el-table-column\n                                    prop=\"updateTime\"\n                                    sortable\n                                    align=\"center\"\n                                    label=\"修改日期\"\n                                    min-width=\"240\">\n                            </el-table-column>\n                        </el-table>\n                    </div>\n                </el-card>\n            </div>\n        </div>\n        <el-dialog\n                title=\"欢迎登录\"\n                :visible.sync=\"loginDialogVisible\"\n                @opened=\"focusInput('username')\"\n                @closed=\"resetForm('loginForm')\"\n                width=\"30%\"\n                :append-to-body=true\n                :modal-append-to-body=false\n                :center=\"true\">\n            <div>\n                <el-form label-width=\"100px\" :rules=\"loginRules\" ref=\"loginForm\"\n                         :model=\"loginForm\"\n                         status-icon\n                         @submit.native.prevent>\n                    <el-form-item label=\"用户名\" prop=\"username\">\n                        <el-input type=\"text\"\n                                  ref=\"username\"\n                                  @keyup.enter.native=\"doLogin\"\n                                  v-model=\"loginForm.username\" autocomplete=\"off\"/>\n                    </el-form-item>\n                    <el-form-item label=\"密码\" prop=\"password\">\n                        <el-input type=\"password\"\n                                  show-password\n                                  @keyup.enter.native=\"doLogin\"\n                                  v-model=\"loginForm.password\" autocomplete=\"off\"/>\n                    </el-form-item>\n                </el-form>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"loginDialogVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"doLogin\" :loading=\"loading\">确 定</el-button>\n            </span>\n        </el-dialog>\n        <el-dialog\n                :visible.sync=\"shareCodeDialogVisible\"\n                @opened=\"focusInput('shareCode')\"\n                @closed=\"resetForm('shareCodeForm')\"\n                width=\"30%\"\n                :fullscreen=true\n                :append-to-body=true\n                :modal-append-to-body=false\n                :close-on-click-modal=false\n                :close-on-press-escape=false\n                :show-close=false\n        >\n            <div class=\"pan-share-code-content\">\n                <div class=\"pan-share-code-wrapper\">\n                    <el-card :header=\"shareCodeHeader\" shadow=\"always\" class=\"pan-share-code-card\">\n                        <el-form\n                                class=\"pan-share-code-form\"\n                                label-width=\"100px\"\n                                :inline=true\n                                :rules=\"shareCodeFormRules\"\n                                ref=\"shareCodeForm\"\n                                :model=\"shareCodeForm\"\n                                status-icon\n                                @submit.native.prevent>\n                            <el-form-item label=\"提取码\" prop=\"shareCode\">\n                                <el-input type=\"text\"\n                                          ref=\"shareCode\"\n                                          @keyup.enter.native=\"doCheckShareCode\"\n                                          v-model=\"shareCodeForm.shareCode\" autocomplete=\"off\"/>\n                            </el-form-item>\n                            <el-form-item>\n                                <el-button type=\"primary\" :loading=\"loading\" @click=\"doCheckShareCode\">确 定</el-button>\n                            </el-form-item>\n                        </el-form>\n                    </el-card>\n                </div>\n            </div>\n        </el-dialog>\n        <el-dialog\n                title=\"保存到我的R盘\"\n                :visible.sync=\"treeDialogVisible\"\n                @open=\"loadTreeData\"\n                @closed=\"resetTreeData\"\n                width=\"30%\"\n                :append-to-body=true\n                :modal-append-to-body=false\n                :center=true>\n            <div class=\"tree-content\">\n                <el-tree\n                        :data=\"treeData\"\n                        class=\"tree\"\n                        empty-text=\"暂无文件夹数据\"\n                        default-expand-all\n                        highlight-current\n                        check-on-click-node\n                        :expand-on-click-node=\"false\"\n                        ref=\"tree\">\n                    <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n                        <i class=\"fa fa-folder-o\" style=\"margin-right: 15px; font-size: 20px; cursor: pointer;\"/>\n                        <span>{{ node.label }}</span>\n                    </span>\n                </el-tree>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"treeDialogVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"doChoseTreeNodeCallBack\" :loading=\"loading\">确 定</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n\n    import panUtil from '../../utils/common'\n    import userService from '../../api/user'\n    import fileService from '../../api/file'\n    import {clearToken, setToken, setShareToken, getShareToken, getToken, clearShareToken} from '../../utils/cookie'\n    import shareService from '../../api/share'\n\n    export default {\n        name: \"Share\",\n        components: {},\n        props: {},\n        data() {\n            const checkUsername = (rule, value, callback) => {\n                    if (!panUtil.checkUsername(value)) {\n                        callback('请输入6-16位只包含数字和字母的用户名')\n                        return\n                    }\n                    callback()\n                },\n                checkPassword = (rule, value, callback) => {\n                    if (!panUtil.checkPassword(value)) {\n                        callback('请输入8-16位的密码')\n                        return\n                    }\n                    callback()\n                }\n            return {\n                loginDialogVisible: false,\n                loginRules: {\n                    username: [\n                        {validator: checkUsername, trigger: 'blur'}\n                    ],\n                    password: [\n                        {validator: checkPassword, trigger: 'blur'}\n                    ]\n                },\n                shareCodeFormRules: {\n                    shareCode: [\n                        {required: true, message: '请输入提取码', trigger: 'blur'}\n                    ]\n                },\n                loginForm: {\n                    username: '',\n                    password: ''\n                },\n                loading: false,\n                username: '',\n                loginFlag: false,\n                shareCodeDialogVisible: false,\n                shareCodeForm: {\n                    shareCode: ''\n                },\n                shareCodeHeader: '',\n                shareCancelFlag: false,\n                tableData: [],\n                tableHeight: window.innerHeight - 300,\n                multipleSelection: [],\n                pageLoading: true,\n                shareDate: '',\n                shareExpireDate: '',\n                breadCrumbs: [{\n                    id: '-1',\n                    name: '全部文件'\n                }],\n                treeData: [],\n                treeDialogVisible: false,\n                item: undefined\n            }\n        },\n        methods: {\n            loadShareInfo() {\n                let _this = this\n                shareService.getShareDetail(res => {\n                    if (res.status === 0) {\n                        _this.refreshShareInfo(res.data)\n                    } else if (res.status === 4) {\n                        _this.openShareCodePage()\n                    } else {\n                        _this.openShareExpirePage()\n                    }\n                })\n            },\n            refreshShareInfo(data) {\n                let username = data.shareUserInfoVO.username,\n                    shareName = data.shareName\n                this.shareCodeHeader = username + '的分享：' + shareName\n                this.shareDate = data.createTime\n                if (data.shareDay === 0) {\n                    this.shareExpireDate = '永久有效'\n                } else {\n                    this.shareExpireDate = data.shareEndTime\n                }\n                this.tableData = data.rPanUserFileVOList\n            },\n            openShareCodePage() {\n                let _this = this\n                shareService.getSimpleShareDetail({\n                    shareId: _this.getShareId()\n                }, res => {\n                    if (res.status === 0) {\n                        this.shareCodeDialogVisible = true\n                        _this.shareCodeHeader = res.data.shareUserInfoVO.username + '的分享：' + res.data.shareName\n                    } else {\n                        _this.shareCodeDialogVisible = false\n                        _this.openShareExpirePage()\n                    }\n                })\n            },\n            openShareExpirePage() {\n                this.shareCancelFlag = true\n            },\n            loadUserInfo() {\n                let _this = this\n                userService.infoWithoutPageJump(res => {\n                    if (res.status === 0) {\n                        _this.username = res.data.username\n                        _this.loginFlag = true\n                    } else {\n                        _this.username = ''\n                        _this.loginFlag = false\n                    }\n                })\n            },\n            login() {\n                this.loginDialogVisible = true\n            },\n            exit() {\n                let _this = this\n                _this.$confirm('确定要退出登录吗?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    userService.exit(() => {\n                        clearToken()\n                        _this.loginFlag = false\n                        _this.username = ''\n                    }, res => {\n                        _this.$message.error(res.message)\n                    })\n                })\n            },\n            focusInput(ref) {\n                this.$refs[ref].focus()\n            },\n            resetForm(ref) {\n                this.$refs[ref].resetFields()\n            },\n            doLogin() {\n                let _this = this\n                _this.$refs.loginForm.validate((valid) => {\n                    if (valid) {\n                        _this.loading = true\n                        userService.login({\n                            username: _this.loginForm.username,\n                            password: _this.loginForm.password\n                        }, res => {\n                            _this.loading = false\n                            setToken(res.data)\n                            _this.loginDialogVisible = false\n                            _this.loadUserInfo()\n                        }, res => {\n                            _this.loading = false\n                            _this.$message.error(res.message)\n                        })\n                    }\n                })\n            },\n            goHome() {\n                window.location.href = '/'\n            },\n            doCheckShareCode() {\n                let _this = this\n                _this.$refs.shareCodeForm.validate((valid) => {\n                    if (valid) {\n                        _this.loading = true\n                        shareService.checkShareCode({\n                            shareId: _this.getShareId(),\n                            shareCode: _this.shareCodeForm.shareCode\n                        }, res => {\n                            if (res.status === 0) {\n                                _this.loading = false\n                                setShareToken(res.data)\n                                _this.shareCodeDialogVisible = false\n                                _this.loadShareInfo()\n                            } else {\n                                _this.loading = false\n                                _this.$message.error(res.message)\n                            }\n                        })\n                    }\n                })\n            },\n            handleSelectionChange(multipleSelection) {\n                this.multipleSelection = multipleSelection\n            },\n            showOperation(row, column, cell, event) {\n                panUtil.showOperation(cell)\n            },\n            hiddenOperation(row, column, cell, event) {\n                panUtil.hiddenOperation(cell)\n            },\n            clickFilename(row) {\n                let _this = this\n                if (row.folderFlag === 1) {\n                    _this.goInFolder(row)\n                }\n            },\n            goInFolder(row) {\n                this.breadCrumbs.push({\n                    id: row.fileId,\n                    name: row.filename\n                })\n                this.reloadTableData(row.fileId)\n            },\n            reloadTableData(parentId) {\n                let _this = this\n                shareService.getShareFiles({\n                    parentId: parentId\n                }, res => {\n                    if (res.status === 0) {\n                        _this.tableData = res.data\n                    } else {\n                        window.location.reload()\n                    }\n                })\n            },\n            goToThis(id) {\n                let _this = this\n                if (id === '-1') {\n                    _this.breadCrumbs = [{\n                        id: '-1',\n                        name: '全部文件'\n                    }]\n                    _this.loadShareInfo()\n                } else {\n                    let newBreadCrumbs = new Array()\n                    _this.breadCrumbs.some(item => {\n                        newBreadCrumbs.push(item)\n                        if (item.id === id) {\n                            return true\n                        }\n                    })\n                    _this.breadCrumbs = newBreadCrumbs\n                    _this.reloadTableData(id)\n                }\n            },\n            getShareId() {\n                return this.$route.params.shareId\n            },\n            downloadFile() {\n                let _this = this\n                if (!_this.multipleSelection || _this.multipleSelection.length === 0) {\n                    _this.$message.error('请选择要下载的文件')\n                    return\n                }\n                for (let i = 0, iLength = _this.multipleSelection.length; i < iLength; i++) {\n                    if (_this.multipleSelection[i].folderFlag === 1) {\n                        _this.$message.error('文件夹暂不支持下载')\n                        return\n                    }\n                }\n                _this.doDownLoads(_this.multipleSelection)\n            },\n            doDownLoads(items, i) {\n                let _this = this\n                if (!i) {\n                    i = 0\n                }\n                if (items.length === i) {\n                    return\n                }\n                setTimeout(function () {\n                    _this.doDownload(items[i]);\n                    i++\n                    _this.doDownLoads(items, i)\n                }, 500);\n            },\n            doDownload(item) {\n                let _this = this\n                if (item.folderFlag === 1) {\n                    _this.$message.error('文件夹暂不支持下载')\n                    return\n                }\n                userService.infoWithoutPageJump(res => {\n                    if (res.status === 0) {\n                        shareService.getSimpleShareDetail({\n                            shareId: _this.getShareId()\n                        }, res => {\n                            if (res.status === 0) {\n                                let url = panUtil.getUrlPrefix() + '/share/file/download?fileId=' + item.fileId + '&shareToken=' + getShareToken() + '&authorization=' + getToken(),\n                                    filename = item.filename,\n                                    link = document.createElement('a')\n                                link.style.display = 'none'\n                                link.href = url\n                                link.setAttribute('download', filename)\n                                document.body.appendChild(link)\n                                link.click()\n                                document.body.removeChild(link)\n                            } else {\n                                window.location.reload()\n                            }\n                        })\n                    } else {\n                        _this.loadUserInfo()\n                        _this.login()\n                    }\n                })\n            },\n            resetTreeData() {\n                this.treeData = new Array()\n                this.item = undefined\n            },\n            loadTreeData() {\n                let _this = this\n                fileService.getFolderTree(res => {\n                    _this.treeData = res.data\n                }, res => {\n                    _this.$message.error(res.message)\n                })\n            },\n            doChoseTreeNodeCallBack() {\n                this.loading = true\n                let checkNode = this.$refs.tree.getCurrentNode()\n                if (!checkNode) {\n                    this.$message.error('请选择文件夹')\n                    this.loading = false\n                    return\n                }\n                this.doSaveFiles(checkNode.id)\n            },\n            saveFiles(item) {\n                let _this = this\n                if (item) {\n                    _this.item = item\n                } else if (!_this.multipleSelection || _this.multipleSelection.length === 0) {\n                    _this.$message.error('请选择要保存的文件')\n                    return\n                }\n                userService.infoWithoutPageJump(res => {\n                    if (res.status === 0) {\n                        _this.treeDialogVisible = true\n                    } else {\n                        _this.login()\n                    }\n                })\n            },\n            doSaveFiles(targetParentId) {\n                let _this = this\n                let fileIds = ''\n                if (_this.item) {\n                    fileIds = _this.item.fileId\n                } else {\n                    let fileIdArr = new Array()\n                    _this.multipleSelection.forEach(item => {\n                        fileIdArr.push(item.fileId)\n                    })\n                    fileIds = fileIdArr.join('__,__')\n                }\n                shareService.saveShareFiles({\n                    fileIds: fileIds,\n                    targetParentId: targetParentId\n                }, res => {\n                    if (res.status === 0) {\n                        _this.$message.success('保存成功')\n                        _this.treeDialogVisible = false\n                    } else if (res.status === 10) {\n                        _this.treeDialogVisible = false\n                        _this.loadUserInfo()\n                        _this.login()\n                    } else {\n                        _this.$message.error(res.message)\n                    }\n                    _this.loading = false\n                })\n            },\n            getFileFontElement(type) {\n                panUtil.getFileFontElement(type)\n            }\n        },\n        computed: {},\n        mounted() {\n            clearShareToken()\n            this.loadShareInfo()\n            this.loadUserInfo()\n            this.pageLoading = false\n        },\n        watch: {}\n    }\n</script>\n\n<style>\n\n    .pan-share-content {\n        overflow: hidden;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        min-width: 1103px;\n        background: #f7f7f7;\n        transition: background 1s ease;\n        font: 12px/1.5 \"Microsoft YaHei\", arial, SimSun, \"宋体\";\n        width: 100%;\n        height: 100%;\n    }\n\n    .pan-share-content .pan-share-header-content {\n        top: 0;\n        left: 0;\n        width: 100%;\n        z-index: 41;\n        position: fixed;\n    }\n\n    .pan-share-content .pan-share-header-content .pan-share-header-content-wrapper {\n        height: 62px;\n        line-height: 62px;\n        position: relative;\n        background: #fff;\n        box-shadow: 0 2px 6px 0 rgba(0, 0, 0, .05);\n        -webkit-transition: background 1s ease;\n        -moz-transition: background 1s ease;\n        -o-transition: background 1s ease;\n        transition: background 1s ease;\n    }\n\n    .pan-share-content .pan-share-header-content .pan-share-header-content-wrapper .pan-share-header-title-font-content {\n        display: inline-block;\n        position: absolute;\n        left: 40px;\n    }\n\n    .pan-share-content .pan-share-header-content .pan-share-header-content-wrapper .pan-share-header-title-font-content .pan-share-header-title-font {\n        font-size: 40px;\n        font-weight: bolder;\n        cursor: pointer;\n        color: #F56C6C;\n    }\n\n    .pan-share-content .pan-share-header-content .pan-share-header-content-wrapper .pan-share-header-user-info-content {\n        display: inline-block;\n        position: absolute;\n        right: 100px;\n    }\n\n    .pan-share-content .pan-share-header-content .pan-share-header-content-wrapper .pan-share-header-user-info-content .pan-share-username {\n        margin-right: 20px;\n    }\n\n    .pan-share-content .pan-share-header-content .pan-share-header-content-wrapper .pan-share-header-button-content {\n        display: inline-block;\n        position: absolute;\n        right: 100px;\n    }\n\n    .pan-share-content .pan-share-header-content .pan-share-header-content-wrapper .pan-share-header-button-content .pan-share-login-button {\n        margin-right: 20px;\n    }\n\n    .pan-share-code-content {\n        width: 100%;\n        height: 300px;\n    }\n\n    .pan-share-code-content .pan-share-code-wrapper {\n        height: 300px;\n        width: 450px;\n        margin: 0 auto;\n        position: relative;\n        top: 50%;\n    }\n\n    .pan-share-code-content .pan-share-code-wrapper .pan-share-code-card {\n        width: 100%;\n        height: 100%;\n        border-radius: 30px;\n    }\n\n    .pan-share-code-content .pan-share-code-wrapper .pan-share-code-card .pan-share-code-form {\n        position: absolute;\n        top: 40%;\n    }\n\n    .pan-share-content .pan-share-list-content {\n        width: 100%;\n        margin-top: 82px;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper {\n        width: 80%;\n        margin: 0 auto;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card {\n        width: 100%;\n        border-radius: 30px;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-header {\n        padding: 10px 20px 0 0;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-header .pan-share-list-card-button-group {\n        display: inline-block;\n        float: right;\n        margin-right: 20px;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-header .pan-share-list-card-header-share-info-content {\n        display: inline-block;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-header .pan-share-list-card-header-share-info-content .pan-share-list-card-header-share-info {\n        color: #67C23A;\n        font-size: 18px;\n        margin-right: 10px;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-header .pan-share-list-card-header-share-info-content .pan-share-list-card-header-time {\n        margin-top: 10px;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-header .pan-share-list-card-header-share-info-content .pan-share-list-card-header-time .pan-share-list-card-header-create-date {\n        color: #909399;\n        margin-right: 15px;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-header .pan-share-list-card-header-share-info-content .pan-share-list-card-header-time .pan-share-list-card-header-expire-date {\n        color: #F56C6C;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-error-message {\n        width: 100%;\n        height: 300px;\n        padding-top: 50px;\n        text-align: center;\n        color: #F56C6C;\n        font-size: 30px;\n    }\n\n    .pan-share-content .pan-share-list-content .pan-share-list-wrapper .pan-share-list-card .pan-share-list-card-operate-content {\n        height: 30px;\n        line-height: 30px;\n        padding: 0 30px 0 0;\n    }\n\n    span {\n        font-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", \"微软雅黑\", Arial, sans-serif;\n    }\n\n    .breadcrumb-item-a {\n        cursor: pointer !important;\n        color: #409EFF !important;\n    }\n\n    .tree-content {\n        height: 400px;\n    }\n\n    .tree-content .tree {\n        height: 100%;\n        overflow: auto;\n    }\n\n    .file-operation-content {\n        display: none;\n        position: absolute;\n        right: 100px;\n        top: 8px;\n    }\n\n</style>"]}]}