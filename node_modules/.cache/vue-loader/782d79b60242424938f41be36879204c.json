{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\buttons\\delete-button\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\buttons\\delete-button\\index.vue","mtime":1710063487613},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgZmlsZVNlcnZpY2UgZnJvbSAnLi4vLi4vLi4vYXBpL2ZpbGUnCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0RlbGV0ZUJ1dHRvbicsCiAgICBjb21wb25lbnRzOiB7fSwKICAgIHByb3BzOiB7CiAgICAgICAgcm91bmRGbGFnOiBCb29sZWFuLAogICAgICAgIGNpcmNsZUZsYWc6IEJvb2xlYW4sCiAgICAgICAgc2l6ZTogU3RyaW5nLAogICAgICAgIGl0ZW06IE9iamVjdAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHt9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoewogICAgICAgICAgICByZWxvYWRGaWxlTGlzdDogJ2ZpbGUvbG9hZEZpbGVMaXN0JwogICAgICAgIH0pLAogICAgICAgIGRlbGV0ZUZpbGUoKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgaWYgKF90aGlzLml0ZW0pIHsKICAgICAgICAgICAgICAgIF90aGlzLmRvRGVsZXRlRmlsZShfdGhpcy5pdGVtLmZpbGVJZCkKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiAmJiBfdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBsZXQgZmlsZUlkQXJyID0gbmV3IEFycmF5KCkKICAgICAgICAgICAgICAgIF90aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goaXRlbSA9PiBmaWxlSWRBcnIucHVzaChpdGVtLmZpbGVJZCkpCiAgICAgICAgICAgICAgICBfdGhpcy5kb0RlbGV0ZUZpbGUoZmlsZUlkQXJyLmpvaW4oJ19fLF9fJykpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36YCJ5oup6KaB5Yig6Zmk55qE5paH5Lu2JykKICAgICAgICB9LAogICAgICAgIGRvRGVsZXRlRmlsZShmaWxlSWRzKSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgX3RoaXMuJGNvbmZpcm0oJ+aWh+S7tuWIoOmZpOWQjuWwhuS/neWtmOWcqOWbnuaUtuerme+8jOaCqOehruWumui/meagt+WBmuWQl++8nycsICfliKDpmaTmlofku7YnLCB7CiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WIoOmZpCcsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIGZpbGVTZXJ2aWNlLmRlbGV0ZSh7CiAgICAgICAgICAgICAgICAgICAgZmlsZUlkczogZmlsZUlkcwogICAgICAgICAgICAgICAgfSwgcmVzID0+IHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQogICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbG9hZEZpbGVMaXN0KCkKICAgICAgICAgICAgICAgIH0sIHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcEdldHRlcnMoWydtdWx0aXBsZVNlbGVjdGlvbiddKQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICB9LAogICAgd2F0Y2g6IHt9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/buttons/delete-button","sourcesContent":["<template>\n    <div class=\"download-button-content\">\n        <el-button v-if=\"roundFlag\" type=\"danger\" :size=\"size\" round @click=\"deleteFile\">\n            删除<i class=\"el-icon-delete el-icon--right\"/>\n        </el-button>\n        <el-button v-if=\"circleFlag\" type=\"danger\" :size=\"size\" circle @click=\"deleteFile\">\n            <i class=\"el-icon-delete\"/>\n        </el-button>\n    </div>\n</template>\n\n<script>\n\n    import fileService from '../../../api/file'\n    import { mapActions, mapGetters } from 'vuex'\n\n    export default {\n        name: 'DeleteButton',\n        components: {},\n        props: {\n            roundFlag: Boolean,\n            circleFlag: Boolean,\n            size: String,\n            item: Object\n        },\n        data() {\n            return {}\n        },\n        methods: {\n            ...mapActions({\n                reloadFileList: 'file/loadFileList'\n            }),\n            deleteFile() {\n                let _this = this\n                if (_this.item) {\n                    _this.doDeleteFile(_this.item.fileId)\n                    return\n                }\n                if (_this.multipleSelection && _this.multipleSelection.length > 0) {\n                    let fileIdArr = new Array()\n                    _this.multipleSelection.forEach(item => fileIdArr.push(item.fileId))\n                    _this.doDeleteFile(fileIdArr.join('__,__'))\n                    return\n                }\n                _this.$message.error('请选择要删除的文件')\n            },\n            doDeleteFile(fileIds) {\n                let _this = this\n                _this.$confirm('文件删除后将保存在回收站，您确定这样做吗？', '删除文件', {\n                    confirmButtonText: '删除',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    fileService.delete({\n                        fileIds: fileIds\n                    }, res => {\n                        _this.$message.success('删除成功')\n                        _this.reloadFileList()\n                    }, res => {\n                        _this.$message.error(res.message)\n                    })\n                })\n            }\n        },\n        computed: {\n            ...mapGetters(['multipleSelection'])\n        },\n        mounted() {\n        },\n        watch: {}\n    }\n</script>\n\n<style>\n    .download-button-content {\n        display: inline-block;\n        margin-right: 10px;\n    }\n</style>"]}]}