{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\search\\index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\search\\index.vue","mtime":1710063488045},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wYW4tbWFpbi1zZWFyY2gtY29udGVudCB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICByaWdodDogMzVweDsKICAgIGhlaWdodDogNjBweDsKICAgIHBhZGRpbmc6IDIwcHggMCAwIDEzcHg7Cn0KCi5wYW4tbWFpbi1zZWFyY2gtY29udGVudCAucGFuLW1haW4tc2VhcmNoIHsKICAgIHdpZHRoOiAyNTBweDsKfQoKLnBhbi1tYWluLXNlYXJjaC1jb250ZW50IC5wYW4tbWFpbi1zZWFyY2ggaW5wdXQgewogICAgYm9yZGVyLXJhZGl1czogMzBweDsKfQoK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/search","sourcesContent":["<template>\n    <div class=\"pan-main-search-content\">\n        <el-autocomplete\n                class=\"pan-main-search\"\n                v-model=\"searchKey\"\n                placeholder=\"请输入内容\"\n                size=\"small\"\n                @keyup.enter.native=\"doSearch\"\n                :fetch-suggestions=\"querySearchHistory\"\n                @select=\"handleSelect\"\n        >\n            <i slot=\"prefix\" class=\"el-input__icon el-icon-search\"></i>\n        </el-autocomplete>\n    </div>\n</template>\n\n<script>\n\n    import userService from '../../api/user'\n    import fileService from '../../api/file'\n    import { mapMutations, mapGetters } from 'vuex'\n\n    export default {\n        name: 'Search',\n        components: {},\n        props: {\n        },\n        data() {\n            return {\n                searchKey: ''\n            }\n        },\n        methods: {\n            ...mapMutations({\n                reloadFileList: 'file/setFileList',\n                resetFileTypes: 'file/setFileTypes',\n                chanPage: 'navbar/changeNavBar',\n                addBreadCrumbItem: 'breadcrumb/addItem',\n                clearBreadCrumb: 'breadcrumb/clear',\n                setSearchFlag: 'file/setSearchFlag',\n                refreshParentId: 'file/refreshFileParentId',\n                resetSearchKey: 'file/setSearchKey'\n            }),\n            querySearchHistory(queryString, cb) {\n                let _this = this\n                userService.searchHistories(res => {\n                    cb(res.data)\n                }, res => {\n                    _this.$message.error(res.message)\n                })\n            },\n            doSearch() {\n                let _this = this\n                // 设置FileTypes\n                _this.resetFileTypes('-1')\n                // 设置搜索模式\n                _this.setSearchFlag(true)\n                // 跳转到Files页面\n                _this.chanPage('Files')\n                // 缓存搜索关键字\n                _this.resetSearchKey(_this.searchKey)\n                fileService.search({\n                    keyword: _this.searchKey,\n                    fileTypes: '-1'\n                }, res => {\n                    _this.clearBreadCrumb()\n                    _this.addBreadCrumbItem({\n                        id: _this.defaultParentId,\n                        name: _this.defaultParentFilename\n                    })\n                    _this.addBreadCrumbItem({\n                        id: '-1',\n                        name: '搜索：' + _this.searchKey\n                    })\n                    _this.reloadFileList(res.data)\n                }, res => {\n                    _this.$message.error(res.message)\n                })\n            },\n            handleSelect(item) {\n                this.searchKey = item.value\n                this.doSearch()\n            }\n        },\n        computed: {\n            ...mapGetters(['defaultParentId', 'defaultParentFilename', 'cacheSearchKey'])\n        },\n        mounted() {\n            this.refreshParentId()\n            this.searchKey = this.cacheSearchKey\n        },\n        watch: {}\n    }\n</script>\n\n<style>\n\n    .pan-main-search-content {\n        position: absolute;\n        right: 35px;\n        height: 60px;\n        padding: 20px 0 0 13px;\n    }\n\n    .pan-main-search-content .pan-main-search {\n        width: 250px;\n    }\n\n    .pan-main-search-content .pan-main-search input {\n        border-radius: 30px;\n    }\n\n</style>"]}]}