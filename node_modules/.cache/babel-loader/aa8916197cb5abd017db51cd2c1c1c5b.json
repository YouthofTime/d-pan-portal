{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\buttons\\delete-button\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\buttons\\delete-button\\index.vue","mtime":1710063487613},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkU6L3NvZnR3YXJlL2Rvd25sb2FkL3ItcGFuLXNjYWZmb2xkaW5nLW1hc3Rlci9yLXBhbi1zY2FmZm9sZGluZy1tYXN0ZXIvci1wYW4tcG9ydGFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGZpbGVTZXJ2aWNlIGZyb20gJy4uLy4uLy4uL2FwaS9maWxlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RlbGV0ZUJ1dHRvbicsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIHJvdW5kRmxhZzogQm9vbGVhbiwKICAgIGNpcmNsZUZsYWc6IEJvb2xlYW4sCiAgICBzaXplOiBTdHJpbmcsCiAgICBpdGVtOiBPYmplY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoewogICAgcmVsb2FkRmlsZUxpc3Q6ICdmaWxlL2xvYWRGaWxlTGlzdCcKICB9KSksIHt9LCB7CiAgICBkZWxldGVGaWxlOiBmdW5jdGlvbiBkZWxldGVGaWxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKF90aGlzLml0ZW0pIHsKICAgICAgICBfdGhpcy5kb0RlbGV0ZUZpbGUoX3RoaXMuaXRlbS5maWxlSWQpOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChfdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiAmJiBfdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGZpbGVJZEFyciA9IG5ldyBBcnJheSgpOwoKICAgICAgICBfdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gZmlsZUlkQXJyLnB1c2goaXRlbS5maWxlSWQpOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5kb0RlbGV0ZUZpbGUoZmlsZUlkQXJyLmpvaW4oJ19fLF9fJykpOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfor7fpgInmi6nopoHliKDpmaTnmoTmlofku7YnKTsKICAgIH0sCiAgICBkb0RlbGV0ZUZpbGU6IGZ1bmN0aW9uIGRvRGVsZXRlRmlsZShmaWxlSWRzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy4kY29uZmlybSgn5paH5Lu25Yig6Zmk5ZCO5bCG5L+d5a2Y5Zyo5Zue5pS256uZ77yM5oKo56Gu5a6a6L+Z5qC35YGa5ZCX77yfJywgJ+WIoOmZpOaWh+S7ticsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WIoOmZpCcsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGZpbGVTZXJ2aWNlLmRlbGV0ZSh7CiAgICAgICAgICBmaWxlSWRzOiBmaWxlSWRzCiAgICAgICAgfSwgZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CgogICAgICAgICAgX3RoaXMucmVsb2FkRmlsZUxpc3QoKTsKICAgICAgICB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0pLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnbXVsdGlwbGVTZWxlY3Rpb24nXSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICB3YXRjaDoge30KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAaA,OAAA,WAAA,MAAA,mBAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA,OADA;AAEA,IAAA,UAAA,EAAA,OAFA;AAGA,IAAA,IAAA,EAAA,MAHA;AAIA,IAAA,IAAA,EAAA;AAJA,GAHA;AASA,EAAA,IATA,kBASA;AACA,WAAA,EAAA;AACA,GAXA;AAYA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,cAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,UAJA,wBAIA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,CAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA;;AACA;AACA;;AACA,UAAA,KAAA,CAAA,iBAAA,IAAA,KAAA,CAAA,iBAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,SAAA,GAAA,IAAA,KAAA,EAAA;;AACA,QAAA,KAAA,CAAA,iBAAA,CAAA,OAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AAAA,SAAA;;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,SAAA,CAAA,IAAA,CAAA,OAAA,CAAA;;AACA;AACA;;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,WAAA;AACA,KAjBA;AAkBA,IAAA,YAlBA,wBAkBA,OAlBA,EAkBA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,uBAAA,EAAA,MAAA,EAAA;AACA,QAAA,iBAAA,EAAA,IADA;AAEA,QAAA,gBAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,EAIA,IAJA,CAIA,YAAA;AACA,QAAA,WAAA,CAAA,MAAA,CAAA;AACA,UAAA,OAAA,EAAA;AADA,SAAA,EAEA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,cAAA;AACA,SALA,EAKA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA,SAPA;AAQA,OAbA;AAcA;AAlCA,IAZA;AAgDA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,mBAAA,CAAA,CADA,CAhDA;AAmDA,EAAA,OAnDA,qBAmDA,CACA,CApDA;AAqDA,EAAA,KAAA,EAAA;AArDA,CAAA","sourcesContent":["<template>\n    <div class=\"download-button-content\">\n        <el-button v-if=\"roundFlag\" type=\"danger\" :size=\"size\" round @click=\"deleteFile\">\n            删除<i class=\"el-icon-delete el-icon--right\"/>\n        </el-button>\n        <el-button v-if=\"circleFlag\" type=\"danger\" :size=\"size\" circle @click=\"deleteFile\">\n            <i class=\"el-icon-delete\"/>\n        </el-button>\n    </div>\n</template>\n\n<script>\n\n    import fileService from '../../../api/file'\n    import { mapActions, mapGetters } from 'vuex'\n\n    export default {\n        name: 'DeleteButton',\n        components: {},\n        props: {\n            roundFlag: Boolean,\n            circleFlag: Boolean,\n            size: String,\n            item: Object\n        },\n        data() {\n            return {}\n        },\n        methods: {\n            ...mapActions({\n                reloadFileList: 'file/loadFileList'\n            }),\n            deleteFile() {\n                let _this = this\n                if (_this.item) {\n                    _this.doDeleteFile(_this.item.fileId)\n                    return\n                }\n                if (_this.multipleSelection && _this.multipleSelection.length > 0) {\n                    let fileIdArr = new Array()\n                    _this.multipleSelection.forEach(item => fileIdArr.push(item.fileId))\n                    _this.doDeleteFile(fileIdArr.join('__,__'))\n                    return\n                }\n                _this.$message.error('请选择要删除的文件')\n            },\n            doDeleteFile(fileIds) {\n                let _this = this\n                _this.$confirm('文件删除后将保存在回收站，您确定这样做吗？', '删除文件', {\n                    confirmButtonText: '删除',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    fileService.delete({\n                        fileIds: fileIds\n                    }, res => {\n                        _this.$message.success('删除成功')\n                        _this.reloadFileList()\n                    }, res => {\n                        _this.$message.error(res.message)\n                    })\n                })\n            }\n        },\n        computed: {\n            ...mapGetters(['multipleSelection'])\n        },\n        mounted() {\n        },\n        watch: {}\n    }\n</script>\n\n<style>\n    .download-button-content {\n        display: inline-block;\n        margin-right: 10px;\n    }\n</style>"],"sourceRoot":"src/components/buttons/delete-button"}]}