{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\md5\\index.js","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\md5\\index.js","mtime":1710063487971},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgc3BhcmtNRDUgZnJvbSAnc3BhcmstbWQ1JzsKZXhwb3J0IGZ1bmN0aW9uIE1ENShmaWxlLCBjYWxsYmFjaykgewogIHZhciBibG9iU2xpY2UgPSBGaWxlLnByb3RvdHlwZS5zbGljZSB8fCBGaWxlLnByb3RvdHlwZS5tb3pTbGljZSB8fCBGaWxlLnByb3RvdHlwZS53ZWJraXRTbGljZSwKICAgICAgZmlsZSA9IGZpbGUsCiAgICAgIGNodW5rU2l6ZSA9IDEwMjQgKiAxMDI0ICogMiwKICAgICAgY2h1bmtzID0gTWF0aC5jZWlsKGZpbGUuc2l6ZSAvIGNodW5rU2l6ZSksCiAgICAgIGN1cnJlbnRDaHVuayA9IDAsCiAgICAgIHNwYXJrID0gbmV3IHNwYXJrTUQ1LkFycmF5QnVmZmVyKCksCiAgICAgIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICBzcGFyay5hcHBlbmQoZS50YXJnZXQucmVzdWx0KTsKICAgIGN1cnJlbnRDaHVuaysrOwoKICAgIGlmIChjdXJyZW50Q2h1bmsgPCBjaHVua3MpIHsKICAgICAgbG9hZE5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGNhbGxiYWNrKG51bGwsIHNwYXJrLmVuZCgpKTsKICAgIH0KICB9OwoKICBmaWxlUmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICBjYWxsYmFjaygnb29wcywgc29tZXRoaW5nIHdlbnQgd3JvbmcuJyk7CiAgfTsKCiAgZnVuY3Rpb24gbG9hZE5leHQoKSB7CiAgICB2YXIgc3RhcnQgPSBjdXJyZW50Q2h1bmsgKiBjaHVua1NpemUsCiAgICAgICAgZW5kID0gc3RhcnQgKyBjaHVua1NpemUgPj0gZmlsZS5zaXplID8gZmlsZS5zaXplIDogc3RhcnQgKyBjaHVua1NpemU7CiAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2JTbGljZS5jYWxsKGZpbGUsIHN0YXJ0LCBlbmQpKTsKICB9CgogIGxvYWROZXh0KCk7Cn0="},{"version":3,"sources":["E:/software/download/r-pan-scaffolding-master/r-pan-scaffolding-master/r-pan-portal/src/components/md5/index.js"],"names":["sparkMD5","MD5","file","callback","blobSlice","File","prototype","slice","mozSlice","webkitSlice","chunkSize","chunks","Math","ceil","size","currentChunk","spark","ArrayBuffer","fileReader","FileReader","onload","e","append","target","result","loadNext","end","onerror","start","readAsArrayBuffer","call"],"mappings":"AAAA;;;AAEA,OAAOA,QAAP,MAAqB,WAArB;AAEA,OAAO,SAASC,GAAT,CAAcC,IAAd,EAAoBC,QAApB,EAA8B;AACjC,MAAIC,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeC,KAAf,IAAwBF,IAAI,CAACC,SAAL,CAAeE,QAAvC,IAAmDH,IAAI,CAACC,SAAL,CAAeG,WAAlF;AAAA,MACIP,IAAI,GAAGA,IADX;AAAA,MAEIQ,SAAS,GAAG,OAAO,IAAP,GAAc,CAF9B;AAAA,MAGIC,MAAM,GAAGC,IAAI,CAACC,IAAL,CAAUX,IAAI,CAACY,IAAL,GAAYJ,SAAtB,CAHb;AAAA,MAIIK,YAAY,GAAG,CAJnB;AAAA,MAKIC,KAAK,GAAG,IAAIhB,QAAQ,CAACiB,WAAb,EALZ;AAAA,MAMIC,UAAU,GAAG,IAAIC,UAAJ,EANjB;;AAQAD,EAAAA,UAAU,CAACE,MAAX,GAAoB,UAAUC,CAAV,EAAa;AAC7BL,IAAAA,KAAK,CAACM,MAAN,CAAaD,CAAC,CAACE,MAAF,CAASC,MAAtB;AACAT,IAAAA,YAAY;;AACZ,QAAIA,YAAY,GAAGJ,MAAnB,EAA2B;AACvBc,MAAAA,QAAQ;AACX,KAFD,MAEO;AACHtB,MAAAA,QAAQ,CAAC,IAAD,EAAOa,KAAK,CAACU,GAAN,EAAP,CAAR;AACH;AACJ,GARD;;AAUAR,EAAAA,UAAU,CAACS,OAAX,GAAqB,YAAY;AAC7BxB,IAAAA,QAAQ,CAAC,6BAAD,CAAR;AACH,GAFD;;AAIA,WAASsB,QAAT,GAAoB;AAChB,QAAIG,KAAK,GAAGb,YAAY,GAAGL,SAA3B;AAAA,QACIgB,GAAG,GAAKE,KAAK,GAAGlB,SAAT,IAAuBR,IAAI,CAACY,IAA7B,GAAqCZ,IAAI,CAACY,IAA1C,GAAiDc,KAAK,GAAGlB,SADnE;AAEAQ,IAAAA,UAAU,CAACW,iBAAX,CAA6BzB,SAAS,CAAC0B,IAAV,CAAe5B,IAAf,EAAqB0B,KAArB,EAA4BF,GAA5B,CAA7B;AACH;;AAEDD,EAAAA,QAAQ;AACX","sourcesContent":["'use strict';\n\nimport sparkMD5 from 'spark-md5'\n\nexport function MD5 (file, callback) {\n    var blobSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice,\n        file = file,\n        chunkSize = 1024 * 1024 * 2,\n        chunks = Math.ceil(file.size / chunkSize),\n        currentChunk = 0,\n        spark = new sparkMD5.ArrayBuffer(),\n        fileReader = new FileReader()\n\n    fileReader.onload = function (e) {\n        spark.append(e.target.result)\n        currentChunk++\n        if (currentChunk < chunks) {\n            loadNext()\n        } else {\n            callback(null, spark.end())\n        }\n    }\n\n    fileReader.onerror = function () {\n        callback('oops, something went wrong.')\n    }\n\n    function loadNext() {\n        var start = currentChunk * chunkSize,\n            end = ((start + chunkSize) >= file.size) ? file.size : start + chunkSize\n        fileReader.readAsArrayBuffer(blobSlice.call(file, start, end))\n    }\n\n    loadNext()\n}\n\n"]}]}