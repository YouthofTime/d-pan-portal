{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\buttons\\share-button\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\buttons\\share-button\\index.vue","mtime":1710063487724},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkU6L3NvZnR3YXJlL2Rvd25sb2FkL3ItcGFuLXNjYWZmb2xkaW5nLW1hc3Rlci9yLXBhbi1zY2FmZm9sZGluZy1tYXN0ZXIvci1wYW4tcG9ydGFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHNoYXJlU2VydmljZSBmcm9tICcuLi8uLi8uLi9hcGkvc2hhcmUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2hhcmVCdXR0b24iLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7CiAgICByb3VuZEZsYWc6IEJvb2xlYW4sCiAgICBjaXJjbGVGbGFnOiBCb29sZWFuLAogICAgc2l6ZTogU3RyaW5nLAogICAgaXRlbTogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hhcmVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHN0ZXA6IDEsCiAgICAgIHNoYXJlRmlsZUZvcm06IHsKICAgICAgICBzaGFyZU5hbWU6ICcnLAogICAgICAgIHNoYXJlVHlwZTogJzAnLAogICAgICAgIHNoYXJlRGF5VHlwZTogJzAnCiAgICAgIH0sCiAgICAgIHNoYXJlRmlsZVJ1bGVzOiB7CiAgICAgICAgc2hhcmVOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5YiG5Lqr5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHNoYXJlVGl0bGU6ICcnLAogICAgICBzaGFyZVJlc3VsdEZvcm06IHsKICAgICAgICBzaGFyZVVybDogJycsCiAgICAgICAgc2hhcmVDb2RlOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2hhcmVGaWxlOiBmdW5jdGlvbiBzaGFyZUZpbGUoKSB7CiAgICAgIGlmICghdGhpcy5pdGVtICYmICghdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiB8fCB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aCA9PT0gMCkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fpgInmi6nopoHliIbkuqvnmoTmlofku7YnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLml0ZW0pIHsKICAgICAgICB0aGlzLnNoYXJlVGl0bGUgPSAn5YiG5Lqr5paH5Lu277yIJyArIHRoaXMuaGFuZGxlRmlsZW5hbWUodGhpcy5pdGVtLmZpbGVuYW1lKSArICcpJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICAgIHRoaXMuc2hhcmVUaXRsZSA9ICfliIbkuqvmlofku7bvvIgnICsgdGhpcy5oYW5kbGVGaWxlbmFtZSh0aGlzLm11bHRpcGxlU2VsZWN0aW9uWzBdLmZpbGVuYW1lKSArICcpJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaGFyZVRpdGxlID0gJ+WIhuS6q+aWh+S7tu+8iCcgKyB0aGlzLmhhbmRsZUZpbGVuYW1lKHRoaXMubXVsdGlwbGVTZWxlY3Rpb25bMF0uZmlsZW5hbWUpICsgJ+etiSknOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5zaGFyZURpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGZvY3VzSW5wdXQ6IGZ1bmN0aW9uIGZvY3VzSW5wdXQocmVmTmFtZSkgewogICAgICB0aGlzLiRyZWZzW3JlZk5hbWVdLmZvY3VzKCk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0ocmVmTmFtZSkgewogICAgICB0aGlzLiRyZWZzW3JlZk5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuc3RlcCA9IDE7CiAgICAgIHRoaXMuc2hhcmVUaXRsZSA9ICcnOwogICAgICB0aGlzLnNoYXJlUmVzdWx0Rm9ybSA9IHsKICAgICAgICBzaGFyZVVybDogJycsCiAgICAgICAgc2hhcmVDb2RlOiAnJwogICAgICB9OwogICAgfSwKICAgIGRvU2hhcmVGaWxlOiBmdW5jdGlvbiBkb1NoYXJlRmlsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpcywKICAgICAgICAgIHNoYXJlRmlsZUlkQXJyID0gbmV3IEFycmF5KCk7CgogICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmIChfdGhpcy5pdGVtKSB7CiAgICAgICAgc2hhcmVGaWxlSWRBcnIucHVzaChfdGhpcy5pdGVtLmZpbGVJZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgc2hhcmVGaWxlSWRBcnIucHVzaChpdGVtLmZpbGVJZCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHNoYXJlU2VydmljZS5jcmVhdGVTaGFyZSh7CiAgICAgICAgc2hhcmVOYW1lOiBfdGhpcy5zaGFyZUZpbGVGb3JtLnNoYXJlTmFtZSwKICAgICAgICBzaGFyZVR5cGU6IHBhcnNlSW50KF90aGlzLnNoYXJlRmlsZUZvcm0uc2hhcmVUeXBlKSwKICAgICAgICBzaGFyZURheVR5cGU6IHBhcnNlSW50KF90aGlzLnNoYXJlRmlsZUZvcm0uc2hhcmVEYXlUeXBlKSwKICAgICAgICBzaGFyZUZpbGVJZHM6IHNoYXJlRmlsZUlkQXJyLmpvaW4oJ19fLF9fJykKICAgICAgfSwgZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpcy5zaGFyZVRpdGxlID0gJ+aBreWWnOS9oO+8geWIhuS6q+aIkOWKn++8gSc7CiAgICAgICAgX3RoaXMuc2hhcmVSZXN1bHRGb3JtLnNoYXJlVXJsID0gcmVzLmRhdGEuc2hhcmVVcmw7CiAgICAgICAgX3RoaXMuc2hhcmVSZXN1bHRGb3JtLnNoYXJlQ29kZSA9IHJlcy5kYXRhLnNoYXJlQ29kZTsKICAgICAgICBfdGhpcy5zdGVwID0gMjsKICAgICAgfSwgZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVGaWxlbmFtZTogZnVuY3Rpb24gaGFuZGxlRmlsZW5hbWUoZmlsZW5hbWUpIHsKICAgICAgaWYgKGZpbGVuYW1lLmxlbmd0aCA+IDEwKSB7CiAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5zdWJzdHJpbmcoMCwgMTEpICsgJy4uLic7CiAgICAgIH0KCiAgICAgIHJldHVybiBmaWxlbmFtZTsKICAgIH0sCiAgICBjb3B5OiBmdW5jdGlvbiBjb3B5KCkgewogICAgICB2YXIgc2hhcmVNZXNzYWdlID0gJ+mTvuaOpe+8micgKyB0aGlzLnNoYXJlUmVzdWx0Rm9ybS5zaGFyZVVybCArICdcbuaPkOWPluegge+8micgKyB0aGlzLnNoYXJlUmVzdWx0Rm9ybS5zaGFyZUNvZGUgKyAnXG7otbblv6vliIbkuqvnu5nlsI/kvJnkvLTlkKfvvIEnOwogICAgICB0aGlzLiRjbGlwYm9hcmQoc2hhcmVNZXNzYWdlKTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflpI3liLbmiJDlip8nKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnbXVsdGlwbGVTZWxlY3Rpb24nXSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICB3YXRjaDoge30KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"share-button-content\">\n        <el-button class=\"share-button\" v-if=\"roundFlag\" :size=\"size\" round @click=\"shareFile\">\n            分享<i class=\"el-icon-share el-icon--right\"/>\n        </el-button>\n        <el-button class=\"share-button\" v-if=\"circleFlag\" icon=\"el-icon-share\" :size=\"size\" circle @click=\"shareFile\">\n        </el-button>\n        <el-dialog\n                :title=\"shareTitle\"\n                :visible.sync=\"shareDialogVisible\"\n                @opened=\"focusInput('shareName')\"\n                @closed=\"resetForm('shareForm')\"\n                width=\"30%\"\n                :append-to-body=true\n                :modal-append-to-body=false\n                :center=true>\n            <div>\n                <div v-if=\"step === 1\">\n                    <el-form label-width=\"100px\" :rules=\"shareFileRules\" ref=\"shareForm\"\n                             :model=\"shareFileForm\"\n                             status-icon\n                             @submit.native.prevent>\n                        <el-form-item label=\"分享名称\" prop=\"shareName\">\n                            <el-input type=\"text\"\n                                      ref=\"shareName\"\n                                      v-model=\"shareFileForm.shareName\" autocomplete=\"off\"/>\n                        </el-form-item>\n                        <el-form-item label=\"分享类型\">\n                            <el-radio-group v-model=\"shareFileForm.shareType\">\n                                <el-radio disabled label=\"0\">有提取码</el-radio>\n                            </el-radio-group>\n                        </el-form-item>\n                        <el-form-item label=\"分享有效期\">\n                            <el-select v-model=\"shareFileForm.shareDayType\">\n                                <el-option label=\"永久有效\" value=\"0\"></el-option>\n                                <el-option label=\"7天有效\" value=\"1\"></el-option>\n                                <el-option label=\"30天有效\" value=\"2\"></el-option>\n                            </el-select>\n                        </el-form-item>\n                    </el-form>\n                </div>\n                <div v-if=\"step === 2\">\n                    <el-form label-width=\"100px\"\n                             status-icon\n                             @submit.native.prevent>\n                        <el-form-item label=\"分享链接\" prop=\"shareUrl\">\n                            <el-link :underline=false type=\"primary\"><span>{{ shareResultForm.shareUrl }}</span>\n                            </el-link>\n                        </el-form-item>\n                        <el-form-item label=\"提取码\">\n                            <el-link :underline=false type=\"success\"><span>{{ shareResultForm.shareCode }}</span>\n                            </el-link>\n                        </el-form-item>\n                        <div class=\"share-result-button-content\">\n                            <el-button type=\"primary\" class=\"share-result-copy-button\" @click=\"copy\">\n                                点击复制<i class=\"el-icon-document-copy el-icon--right\"></i>\n                            </el-button>\n                        </div>\n                    </el-form>\n                </div>\n            </div>\n            <span v-if=\"step === 1\" slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"shareDialogVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"doShareFile\" :loading=\"loading\">确 定</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n\n    import shareService from '../../../api/share'\n    import { mapGetters } from 'vuex'\n\n    export default {\n        name: \"ShareButton\",\n        components: {},\n        props: {\n            roundFlag: Boolean,\n            circleFlag: Boolean,\n            size: String,\n            item: Object\n        },\n        data() {\n            return {\n                shareDialogVisible: false,\n                loading: false,\n                step: 1,\n                shareFileForm: {\n                    shareName: '',\n                    shareType: '0',\n                    shareDayType: '0'\n                },\n                shareFileRules: {\n                    shareName: [\n                        {required: true, message: '请输入分享名称', trigger: 'blur'}\n                    ]\n                },\n                shareTitle: '',\n                shareResultForm: {\n                    shareUrl: '',\n                    shareCode: ''\n                }\n            }\n        },\n        methods: {\n            shareFile() {\n                if (!this.item && (!this.multipleSelection || this.multipleSelection.length === 0)) {\n                    this.$message.error('请选择要分享的文件')\n                    return\n                }\n                if (this.item) {\n                    this.shareTitle = '分享文件（' + this.handleFilename(this.item.filename) + ')'\n                } else {\n                    if (this.multipleSelection.length === 1) {\n                        this.shareTitle = '分享文件（' + this.handleFilename(this.multipleSelection[0].filename) + ')'\n                    } else {\n                        this.shareTitle = '分享文件（' + this.handleFilename(this.multipleSelection[0].filename) + '等)'\n                    }\n                }\n                this.shareDialogVisible = true\n            },\n            focusInput(refName) {\n                this.$refs[refName].focus()\n            },\n            resetForm(refName) {\n                this.$refs[refName].resetFields()\n                this.step = 1\n                this.shareTitle = ''\n                this.shareResultForm = {\n                    shareUrl: '',\n                    shareCode: ''\n                }\n            },\n            doShareFile() {\n                let _this = this,\n                    shareFileIdArr = new Array()\n                _this.loading = true\n                if (_this.item) {\n                    shareFileIdArr.push(_this.item.fileId)\n                } else {\n                    _this.multipleSelection.forEach(item => {\n                        shareFileIdArr.push(item.fileId)\n                    })\n                }\n                shareService.createShare({\n                    shareName: _this.shareFileForm.shareName,\n                    shareType: parseInt(_this.shareFileForm.shareType),\n                    shareDayType: parseInt(_this.shareFileForm.shareDayType),\n                    shareFileIds: shareFileIdArr.join('__,__')\n                }, res => {\n                    _this.loading = false\n                    _this.shareTitle = '恭喜你！分享成功！'\n                    _this.shareResultForm.shareUrl = res.data.shareUrl\n                    _this.shareResultForm.shareCode = res.data.shareCode\n                    _this.step = 2\n                }, res => {\n                    _this.loading = false\n                    _this.$message.error(res.message)\n                })\n            },\n            handleFilename(filename) {\n                if (filename.length > 10) {\n                    filename = filename.substring(0, 11) + '...'\n                }\n                return filename\n            },\n            copy() {\n                let shareMessage = '链接：' + this.shareResultForm.shareUrl + '\\n提取码：' + this.shareResultForm.shareCode + '\\n赶快分享给小伙伴吧！'\n                this.$clipboard(shareMessage)\n                this.$message.success('复制成功')\n            }\n        },\n        computed: {\n            ...mapGetters(['multipleSelection'])\n        },\n        mounted() {\n        },\n        watch: {}\n    }\n</script>\n\n<style>\n\n    .share-button-content {\n        display: inline-block;\n        margin-right: 10px;\n    }\n\n    .share-button-content .share-button {\n        background-color: #F2F6FC;\n    }\n\n    .share-result-button-content {\n        width: 100%;\n        height: 10px;\n        line-height: 30px;\n        text-align: right;\n        padding: 0 10px 20px 0;\n    }\n\n</style>"],"sourceRoot":"src/components/buttons/share-button"}]}