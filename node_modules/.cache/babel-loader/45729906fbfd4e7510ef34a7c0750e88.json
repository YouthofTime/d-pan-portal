{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\search\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\components\\search\\index.vue","mtime":1710063488045},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovc29mdHdhcmUvZG93bmxvYWQvci1wYW4tc2NhZmZvbGRpbmctbWFzdGVyL3ItcGFuLXNjYWZmb2xkaW5nLW1hc3Rlci9yLXBhbi1wb3J0YWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXNlclNlcnZpY2UgZnJvbSAnLi4vLi4vYXBpL3VzZXInOwppbXBvcnQgZmlsZVNlcnZpY2UgZnJvbSAnLi4vLi4vYXBpL2ZpbGUnOwppbXBvcnQgeyBtYXBNdXRhdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTZWFyY2gnLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoS2V5OiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKHsKICAgIHJlbG9hZEZpbGVMaXN0OiAnZmlsZS9zZXRGaWxlTGlzdCcsCiAgICByZXNldEZpbGVUeXBlczogJ2ZpbGUvc2V0RmlsZVR5cGVzJywKICAgIGNoYW5QYWdlOiAnbmF2YmFyL2NoYW5nZU5hdkJhcicsCiAgICBhZGRCcmVhZENydW1iSXRlbTogJ2JyZWFkY3J1bWIvYWRkSXRlbScsCiAgICBjbGVhckJyZWFkQ3J1bWI6ICdicmVhZGNydW1iL2NsZWFyJywKICAgIHNldFNlYXJjaEZsYWc6ICdmaWxlL3NldFNlYXJjaEZsYWcnLAogICAgcmVmcmVzaFBhcmVudElkOiAnZmlsZS9yZWZyZXNoRmlsZVBhcmVudElkJywKICAgIHJlc2V0U2VhcmNoS2V5OiAnZmlsZS9zZXRTZWFyY2hLZXknCiAgfSkpLCB7fSwgewogICAgcXVlcnlTZWFyY2hIaXN0b3J5OiBmdW5jdGlvbiBxdWVyeVNlYXJjaEhpc3RvcnkocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB1c2VyU2VydmljZS5zZWFyY2hIaXN0b3JpZXMoZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNiKHJlcy5kYXRhKTsKICAgICAgfSwgZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKICAgICAgfSk7CiAgICB9LAogICAgZG9TZWFyY2g6IGZ1bmN0aW9uIGRvU2VhcmNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOyAvLyDorr7nva5GaWxlVHlwZXMKCgogICAgICBfdGhpcy5yZXNldEZpbGVUeXBlcygnLTEnKTsgLy8g6K6+572u5pCc57Si5qih5byPCgoKICAgICAgX3RoaXMuc2V0U2VhcmNoRmxhZyh0cnVlKTsgLy8g6Lez6L2s5YiwRmlsZXPpobXpnaIKCgogICAgICBfdGhpcy5jaGFuUGFnZSgnRmlsZXMnKTsgLy8g57yT5a2Y5pCc57Si5YWz6ZSu5a2XCgoKICAgICAgX3RoaXMucmVzZXRTZWFyY2hLZXkoX3RoaXMuc2VhcmNoS2V5KTsKCiAgICAgIGZpbGVTZXJ2aWNlLnNlYXJjaCh7CiAgICAgICAga2V5d29yZDogX3RoaXMuc2VhcmNoS2V5LAogICAgICAgIGZpbGVUeXBlczogJy0xJwogICAgICB9LCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuY2xlYXJCcmVhZENydW1iKCk7CgogICAgICAgIF90aGlzLmFkZEJyZWFkQ3J1bWJJdGVtKHsKICAgICAgICAgIGlkOiBfdGhpcy5kZWZhdWx0UGFyZW50SWQsCiAgICAgICAgICBuYW1lOiBfdGhpcy5kZWZhdWx0UGFyZW50RmlsZW5hbWUKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuYWRkQnJlYWRDcnVtYkl0ZW0oewogICAgICAgICAgaWQ6ICctMScsCiAgICAgICAgICBuYW1lOiAn5pCc57Si77yaJyArIF90aGlzLnNlYXJjaEtleQogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5yZWxvYWRGaWxlTGlzdChyZXMuZGF0YSk7CiAgICAgIH0sIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0KGl0ZW0pIHsKICAgICAgdGhpcy5zZWFyY2hLZXkgPSBpdGVtLnZhbHVlOwogICAgICB0aGlzLmRvU2VhcmNoKCk7CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydkZWZhdWx0UGFyZW50SWQnLCAnZGVmYXVsdFBhcmVudEZpbGVuYW1lJywgJ2NhY2hlU2VhcmNoS2V5J10pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5yZWZyZXNoUGFyZW50SWQoKTsKICAgIHRoaXMuc2VhcmNoS2V5ID0gdGhpcy5jYWNoZVNlYXJjaEtleTsKICB9LAogIHdhdGNoOiB7fQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAkBA,OAAA,WAAA,MAAA,gBAAA;AACA,OAAA,WAAA,MAAA,gBAAA;AACA,SAAA,YAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,KAAA,EAAA,EAHA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,OAAA,kCACA,YAAA,CAAA;AACA,IAAA,cAAA,EAAA,kBADA;AAEA,IAAA,cAAA,EAAA,mBAFA;AAGA,IAAA,QAAA,EAAA,qBAHA;AAIA,IAAA,iBAAA,EAAA,oBAJA;AAKA,IAAA,eAAA,EAAA,kBALA;AAMA,IAAA,aAAA,EAAA,oBANA;AAOA,IAAA,eAAA,EAAA,0BAPA;AAQA,IAAA,cAAA,EAAA;AARA,GAAA,CADA;AAWA,IAAA,kBAXA,8BAWA,WAXA,EAWA,EAXA,EAWA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,WAAA,CAAA,eAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,EAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,OAFA,EAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA,OAJA;AAKA,KAlBA;AAmBA,IAAA,QAnBA,sBAmBA;AACA,UAAA,KAAA,GAAA,IAAA,CADA,CAEA;;;AACA,MAAA,KAAA,CAAA,cAAA,CAAA,IAAA,EAHA,CAIA;;;AACA,MAAA,KAAA,CAAA,aAAA,CAAA,IAAA,EALA,CAMA;;;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,OAAA,EAPA,CAQA;;;AACA,MAAA,KAAA,CAAA,cAAA,CAAA,KAAA,CAAA,SAAA;;AACA,MAAA,WAAA,CAAA,MAAA,CAAA;AACA,QAAA,OAAA,EAAA,KAAA,CAAA,SADA;AAEA,QAAA,SAAA,EAAA;AAFA,OAAA,EAGA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,eAAA;;AACA,QAAA,KAAA,CAAA,iBAAA,CAAA;AACA,UAAA,EAAA,EAAA,KAAA,CAAA,eADA;AAEA,UAAA,IAAA,EAAA,KAAA,CAAA;AAFA,SAAA;;AAIA,QAAA,KAAA,CAAA,iBAAA,CAAA;AACA,UAAA,EAAA,EAAA,IADA;AAEA,UAAA,IAAA,EAAA,QAAA,KAAA,CAAA;AAFA,SAAA;;AAIA,QAAA,KAAA,CAAA,cAAA,CAAA,GAAA,CAAA,IAAA;AACA,OAdA,EAcA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA,OAhBA;AAiBA,KA9CA;AA+CA,IAAA,YA/CA,wBA+CA,IA/CA,EA+CA;AACA,WAAA,SAAA,GAAA,IAAA,CAAA,KAAA;AACA,WAAA,QAAA;AACA;AAlDA,IAVA;AA8DA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,iBAAA,EAAA,uBAAA,EAAA,gBAAA,CAAA,CADA,CA9DA;AAiEA,EAAA,OAjEA,qBAiEA;AACA,SAAA,eAAA;AACA,SAAA,SAAA,GAAA,KAAA,cAAA;AACA,GApEA;AAqEA,EAAA,KAAA,EAAA;AArEA,CAAA","sourcesContent":["<template>\n    <div class=\"pan-main-search-content\">\n        <el-autocomplete\n                class=\"pan-main-search\"\n                v-model=\"searchKey\"\n                placeholder=\"请输入内容\"\n                size=\"small\"\n                @keyup.enter.native=\"doSearch\"\n                :fetch-suggestions=\"querySearchHistory\"\n                @select=\"handleSelect\"\n        >\n            <i slot=\"prefix\" class=\"el-input__icon el-icon-search\"></i>\n        </el-autocomplete>\n    </div>\n</template>\n\n<script>\n\n    import userService from '../../api/user'\n    import fileService from '../../api/file'\n    import { mapMutations, mapGetters } from 'vuex'\n\n    export default {\n        name: 'Search',\n        components: {},\n        props: {\n        },\n        data() {\n            return {\n                searchKey: ''\n            }\n        },\n        methods: {\n            ...mapMutations({\n                reloadFileList: 'file/setFileList',\n                resetFileTypes: 'file/setFileTypes',\n                chanPage: 'navbar/changeNavBar',\n                addBreadCrumbItem: 'breadcrumb/addItem',\n                clearBreadCrumb: 'breadcrumb/clear',\n                setSearchFlag: 'file/setSearchFlag',\n                refreshParentId: 'file/refreshFileParentId',\n                resetSearchKey: 'file/setSearchKey'\n            }),\n            querySearchHistory(queryString, cb) {\n                let _this = this\n                userService.searchHistories(res => {\n                    cb(res.data)\n                }, res => {\n                    _this.$message.error(res.message)\n                })\n            },\n            doSearch() {\n                let _this = this\n                // 设置FileTypes\n                _this.resetFileTypes('-1')\n                // 设置搜索模式\n                _this.setSearchFlag(true)\n                // 跳转到Files页面\n                _this.chanPage('Files')\n                // 缓存搜索关键字\n                _this.resetSearchKey(_this.searchKey)\n                fileService.search({\n                    keyword: _this.searchKey,\n                    fileTypes: '-1'\n                }, res => {\n                    _this.clearBreadCrumb()\n                    _this.addBreadCrumbItem({\n                        id: _this.defaultParentId,\n                        name: _this.defaultParentFilename\n                    })\n                    _this.addBreadCrumbItem({\n                        id: '-1',\n                        name: '搜索：' + _this.searchKey\n                    })\n                    _this.reloadFileList(res.data)\n                }, res => {\n                    _this.$message.error(res.message)\n                })\n            },\n            handleSelect(item) {\n                this.searchKey = item.value\n                this.doSearch()\n            }\n        },\n        computed: {\n            ...mapGetters(['defaultParentId', 'defaultParentFilename', 'cacheSearchKey'])\n        },\n        mounted() {\n            this.refreshParentId()\n            this.searchKey = this.cacheSearchKey\n        },\n        watch: {}\n    }\n</script>\n\n<style>\n\n    .pan-main-search-content {\n        position: absolute;\n        right: 35px;\n        height: 60px;\n        padding: 20px 0 0 13px;\n    }\n\n    .pan-main-search-content .pan-main-search {\n        width: 250px;\n    }\n\n    .pan-main-search-content .pan-main-search input {\n        border-radius: 30px;\n    }\n\n</style>"],"sourceRoot":"src/components/search"}]}