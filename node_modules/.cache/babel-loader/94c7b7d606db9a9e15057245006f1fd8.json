{"remainingRequest":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js!E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\store\\modules\\task\\index.js","dependencies":[{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\src\\store\\modules\\task\\index.js","mtime":1710063488484},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\software\\download\\r-pan-scaffolding-master\\r-pan-scaffolding-master\\r-pan-portal\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCBwYW5VdGlsIGZyb20gJy4uLy4uLy4uL3V0aWxzL2NvbW1vbic7CnZhciB0YXNrID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIHRhc2tMaXN0OiBuZXcgQXJyYXkoKSwKICAgIHZpZXdGbGFnOiBmYWxzZQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoc3RhdGUpIHsKICAgICAgc3RhdGUudGFza0xpc3QgPSBuZXcgQXJyYXkoKTsKICAgICAgc3RhdGUudmlld0ZsYWcgPSBmYWxzZTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChzdGF0ZSwgdGFza0l0ZW0pIHsKICAgICAgc3RhdGUudGFza0xpc3QucHVzaCh0YXNrSXRlbSk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoc3RhdGUsIGZpbGVuYW1lKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUudGFza0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoZmlsZW5hbWUgPT09IHN0YXRlLnRhc2tMaXN0W2ldLmZpbGVuYW1lKSB7CiAgICAgICAgICBzdGF0ZS50YXNrTGlzdC5zcGxpY2UoaSwgMSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVTdGF0dXM6IGZ1bmN0aW9uIHVwZGF0ZVN0YXR1cyhzdGF0ZSwgcGFyYW0pIHsKICAgICAgdmFyIHRhc2tJdGVtID0gc3RhdGUudGFza0xpc3QuZmluZChmdW5jdGlvbiAodGFza0l0ZW0pIHsKICAgICAgICByZXR1cm4gcGFyYW0uZmlsZW5hbWUgPT09IHRhc2tJdGVtLmZpbGVuYW1lOwogICAgICB9KTsKICAgICAgdGFza0l0ZW0uc3RhdHVzID0gcGFyYW0uc3RhdHVzOwogICAgICB0YXNrSXRlbS5zdGF0dXNUZXh0ID0gcGFyYW0uc3RhdHVzVGV4dDsKICAgIH0sCiAgICB1cGRhdGVQcm9jZXNzOiBmdW5jdGlvbiB1cGRhdGVQcm9jZXNzKHN0YXRlLCBwYXJhbSkgewogICAgICB2YXIgdGFza0l0ZW0gPSBzdGF0ZS50YXNrTGlzdC5maW5kKGZ1bmN0aW9uICh0YXNrSXRlbSkgewogICAgICAgIHJldHVybiBwYXJhbS5maWxlbmFtZSA9PT0gdGFza0l0ZW0uZmlsZW5hbWU7CiAgICAgIH0pOwogICAgICB0YXNrSXRlbS5zcGVlZCA9IHBhcmFtLnNwZWVkOwogICAgICB0YXNrSXRlbS5wZXJjZW50YWdlID0gcGFyYW0ucGVyY2VudGFnZTsKICAgICAgdGFza0l0ZW0udXBsb2FkZWRTaXplID0gcGFyYW0udXBsb2FkZWRTaXplOwogICAgICB0YXNrSXRlbS50aW1lUmVtYWluaW5nID0gcGFyYW0udGltZVJlbWFpbmluZzsKICAgIH0sCiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2Uoc3RhdGUsIGZpbGVuYW1lKSB7CiAgICAgIHZhciB0YXNrSXRlbSA9IHN0YXRlLnRhc2tMaXN0LmZpbmQoZnVuY3Rpb24gKHRhc2tJdGVtKSB7CiAgICAgICAgcmV0dXJuIGZpbGVuYW1lID09PSB0YXNrSXRlbS5maWxlbmFtZTsKICAgICAgfSk7CiAgICAgIHRhc2tJdGVtLnRhcmdldC5wYXVzZSgpOwogICAgICB0YXNrSXRlbS5zdGF0dXMgPSBwYW5VdGlsLmZpbGVTdGF0dXMuUEFVU0UuY29kZTsKICAgICAgdGFza0l0ZW0uc3RhdHVzVGV4dCA9IHBhblV0aWwuZmlsZVN0YXR1cy5QQVVTRS50ZXh0OwogICAgfSwKICAgIHJlc3VtZTogZnVuY3Rpb24gcmVzdW1lKHN0YXRlLCBmaWxlbmFtZSkgewogICAgICB2YXIgdGFza0l0ZW0gPSBzdGF0ZS50YXNrTGlzdC5maW5kKGZ1bmN0aW9uICh0YXNrSXRlbSkgewogICAgICAgIHJldHVybiBmaWxlbmFtZSA9PT0gdGFza0l0ZW0uZmlsZW5hbWU7CiAgICAgIH0pOwogICAgICB0YXNrSXRlbS50YXJnZXQucmVzdW1lKCk7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoc3RhdGUsIGZpbGVuYW1lKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUudGFza0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoZmlsZW5hbWUgPT09IHN0YXRlLnRhc2tMaXN0W2ldLmZpbGVuYW1lKSB7CiAgICAgICAgICBzdGF0ZS50YXNrTGlzdFtpXS50YXJnZXQuY2FuY2VsKCk7CiAgICAgICAgICBzdGF0ZS50YXNrTGlzdC5zcGxpY2UoaSwgMSk7CgogICAgICAgICAgaWYgKHN0YXRlLnRhc2tMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICBzdGF0ZS52aWV3RmxhZyA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHJldHJ5OiBmdW5jdGlvbiByZXRyeShzdGF0ZSwgZmlsZW5hbWUpIHsKICAgICAgdmFyIHRhc2tJdGVtID0gc3RhdGUudGFza0xpc3QuZmluZChmdW5jdGlvbiAodGFza0l0ZW0pIHsKICAgICAgICByZXR1cm4gZmlsZW5hbWUgPT09IHRhc2tJdGVtLmZpbGVuYW1lOwogICAgICB9KTsKICAgICAgdGFza0l0ZW0udGFyZ2V0LmJvb3RzdHJhcCgpOwogICAgICB0YXNrSXRlbS50YXJnZXQucmVzdW1lKCk7CiAgICB9LAogICAgdXBkYXRlVmlld0ZsYWc6IGZ1bmN0aW9uIHVwZGF0ZVZpZXdGbGFnKHN0YXRlLCB2aWV3RmxhZykgewogICAgICBzdGF0ZS52aWV3RmxhZyA9IHZpZXdGbGFnOwogICAgfSwKICAgIGNoYW5nZVZpZXdGbGFnOiBmdW5jdGlvbiBjaGFuZ2VWaWV3RmxhZyhzdGF0ZSkgewogICAgICBzdGF0ZS52aWV3RmxhZyA9ICFzdGF0ZS52aWV3RmxhZzsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHRhc2s7"},{"version":3,"sources":["E:/software/download/r-pan-scaffolding-master/r-pan-scaffolding-master/r-pan-portal/src/store/modules/task/index.js"],"names":["panUtil","task","namespaced","state","taskList","Array","viewFlag","mutations","clear","add","taskItem","push","remove","filename","i","length","splice","updateStatus","param","find","status","statusText","updateProcess","speed","percentage","uploadedSize","timeRemaining","pause","target","fileStatus","PAUSE","code","text","resume","cancel","retry","bootstrap","updateViewFlag","changeViewFlag"],"mappings":";;AAAA,OAAOA,OAAP,MAAoB,uBAApB;AAEA,IAAMC,IAAI,GAAG;AACTC,EAAAA,UAAU,EAAE,IADH;AAETC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAE,IAAIC,KAAJ,EADP;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GAFE;AAMTC,EAAAA,SAAS,EAAE;AACPC,IAAAA,KADO,iBACDL,KADC,EACM;AACTA,MAAAA,KAAK,CAACC,QAAN,GAAiB,IAAIC,KAAJ,EAAjB;AACAF,MAAAA,KAAK,CAACG,QAAN,GAAiB,KAAjB;AACH,KAJM;AAKPG,IAAAA,GALO,eAKHN,KALG,EAKIO,QALJ,EAKc;AACjBP,MAAAA,KAAK,CAACC,QAAN,CAAeO,IAAf,CAAoBD,QAApB;AACH,KAPM;AAQPE,IAAAA,MARO,kBAQAT,KARA,EAQOU,QARP,EAQiB;AACpB,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,KAAK,CAACC,QAAN,CAAeW,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC5C,YAAID,QAAQ,KAAKV,KAAK,CAACC,QAAN,CAAeU,CAAf,EAAkBD,QAAnC,EAA6C;AACzCV,UAAAA,KAAK,CAACC,QAAN,CAAeY,MAAf,CAAsBF,CAAtB,EAAyB,CAAzB;AACA;AACH;AACJ;AACJ,KAfM;AAgBPG,IAAAA,YAhBO,wBAgBMd,KAhBN,EAgBae,KAhBb,EAgBoB;AACvB,UAAIR,QAAQ,GAAGP,KAAK,CAACC,QAAN,CAAee,IAAf,CAAoB,UAAAT,QAAQ;AAAA,eAAIQ,KAAK,CAACL,QAAN,KAAmBH,QAAQ,CAACG,QAAhC;AAAA,OAA5B,CAAf;AACAH,MAAAA,QAAQ,CAACU,MAAT,GAAkBF,KAAK,CAACE,MAAxB;AACAV,MAAAA,QAAQ,CAACW,UAAT,GAAsBH,KAAK,CAACG,UAA5B;AACH,KApBM;AAqBPC,IAAAA,aArBO,yBAqBOnB,KArBP,EAqBce,KArBd,EAqBqB;AACxB,UAAIR,QAAQ,GAAGP,KAAK,CAACC,QAAN,CAAee,IAAf,CAAoB,UAAAT,QAAQ;AAAA,eAAIQ,KAAK,CAACL,QAAN,KAAmBH,QAAQ,CAACG,QAAhC;AAAA,OAA5B,CAAf;AACAH,MAAAA,QAAQ,CAACa,KAAT,GAAiBL,KAAK,CAACK,KAAvB;AACAb,MAAAA,QAAQ,CAACc,UAAT,GAAsBN,KAAK,CAACM,UAA5B;AACAd,MAAAA,QAAQ,CAACe,YAAT,GAAwBP,KAAK,CAACO,YAA9B;AACAf,MAAAA,QAAQ,CAACgB,aAAT,GAAyBR,KAAK,CAACQ,aAA/B;AACH,KA3BM;AA4BPC,IAAAA,KA5BO,iBA4BDxB,KA5BC,EA4BMU,QA5BN,EA4BgB;AACnB,UAAIH,QAAQ,GAAGP,KAAK,CAACC,QAAN,CAAee,IAAf,CAAoB,UAAAT,QAAQ;AAAA,eAAIG,QAAQ,KAAKH,QAAQ,CAACG,QAA1B;AAAA,OAA5B,CAAf;AACAH,MAAAA,QAAQ,CAACkB,MAAT,CAAgBD,KAAhB;AACAjB,MAAAA,QAAQ,CAACU,MAAT,GAAkBpB,OAAO,CAAC6B,UAAR,CAAmBC,KAAnB,CAAyBC,IAA3C;AACArB,MAAAA,QAAQ,CAACW,UAAT,GAAsBrB,OAAO,CAAC6B,UAAR,CAAmBC,KAAnB,CAAyBE,IAA/C;AACH,KAjCM;AAkCPC,IAAAA,MAlCO,kBAkCA9B,KAlCA,EAkCOU,QAlCP,EAkCiB;AACpB,UAAIH,QAAQ,GAAGP,KAAK,CAACC,QAAN,CAAee,IAAf,CAAoB,UAAAT,QAAQ;AAAA,eAAIG,QAAQ,KAAKH,QAAQ,CAACG,QAA1B;AAAA,OAA5B,CAAf;AACAH,MAAAA,QAAQ,CAACkB,MAAT,CAAgBK,MAAhB;AACH,KArCM;AAsCPC,IAAAA,MAtCO,kBAsCA/B,KAtCA,EAsCOU,QAtCP,EAsCiB;AACpB,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,KAAK,CAACC,QAAN,CAAeW,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC5C,YAAID,QAAQ,KAAKV,KAAK,CAACC,QAAN,CAAeU,CAAf,EAAkBD,QAAnC,EAA6C;AACzCV,UAAAA,KAAK,CAACC,QAAN,CAAeU,CAAf,EAAkBc,MAAlB,CAAyBM,MAAzB;AACA/B,UAAAA,KAAK,CAACC,QAAN,CAAeY,MAAf,CAAsBF,CAAtB,EAAyB,CAAzB;;AACA,cAAIX,KAAK,CAACC,QAAN,CAAeW,MAAf,KAA0B,CAA9B,EAAiC;AAC7BZ,YAAAA,KAAK,CAACG,QAAN,GAAiB,KAAjB;AACH;;AACD;AACH;AACJ;AACJ,KAjDM;AAkDP6B,IAAAA,KAlDO,iBAkDDhC,KAlDC,EAkDMU,QAlDN,EAkDgB;AACnB,UAAIH,QAAQ,GAAGP,KAAK,CAACC,QAAN,CAAee,IAAf,CAAoB,UAAAT,QAAQ;AAAA,eAAIG,QAAQ,KAAKH,QAAQ,CAACG,QAA1B;AAAA,OAA5B,CAAf;AACAH,MAAAA,QAAQ,CAACkB,MAAT,CAAgBQ,SAAhB;AACA1B,MAAAA,QAAQ,CAACkB,MAAT,CAAgBK,MAAhB;AACH,KAtDM;AAuDPI,IAAAA,cAvDO,0BAuDQlC,KAvDR,EAuDeG,QAvDf,EAuDyB;AAC5BH,MAAAA,KAAK,CAACG,QAAN,GAAiBA,QAAjB;AACH,KAzDM;AA0DPgC,IAAAA,cA1DO,0BA0DQnC,KA1DR,EA0De;AAClBA,MAAAA,KAAK,CAACG,QAAN,GAAiB,CAACH,KAAK,CAACG,QAAxB;AACH;AA5DM;AANF,CAAb;AAsEA,eAAeL,IAAf","sourcesContent":["import panUtil from '../../../utils/common'\n\nconst task = {\n    namespaced: true,\n    state: {\n        taskList: new Array(),\n        viewFlag: false\n    },\n    mutations: {\n        clear(state) {\n            state.taskList = new Array()\n            state.viewFlag = false\n        },\n        add(state, taskItem) {\n            state.taskList.push(taskItem)\n        },\n        remove(state, filename) {\n            for (let i = 0; i < state.taskList.length; i++) {\n                if (filename === state.taskList[i].filename) {\n                    state.taskList.splice(i, 1)\n                    break\n                }\n            }\n        },\n        updateStatus(state, param) {\n            let taskItem = state.taskList.find(taskItem => param.filename === taskItem.filename)\n            taskItem.status = param.status\n            taskItem.statusText = param.statusText\n        },\n        updateProcess(state, param) {\n            let taskItem = state.taskList.find(taskItem => param.filename === taskItem.filename)\n            taskItem.speed = param.speed\n            taskItem.percentage = param.percentage\n            taskItem.uploadedSize = param.uploadedSize\n            taskItem.timeRemaining = param.timeRemaining\n        },\n        pause(state, filename) {\n            let taskItem = state.taskList.find(taskItem => filename === taskItem.filename)\n            taskItem.target.pause()\n            taskItem.status = panUtil.fileStatus.PAUSE.code\n            taskItem.statusText = panUtil.fileStatus.PAUSE.text\n        },\n        resume(state, filename) {\n            let taskItem = state.taskList.find(taskItem => filename === taskItem.filename)\n            taskItem.target.resume()\n        },\n        cancel(state, filename) {\n            for (let i = 0; i < state.taskList.length; i++) {\n                if (filename === state.taskList[i].filename) {\n                    state.taskList[i].target.cancel()\n                    state.taskList.splice(i, 1)\n                    if (state.taskList.length === 0) {\n                        state.viewFlag = false\n                    }\n                    break\n                }\n            }\n        },\n        retry(state, filename) {\n            let taskItem = state.taskList.find(taskItem => filename === taskItem.filename)\n            taskItem.target.bootstrap()\n            taskItem.target.resume()\n        },\n        updateViewFlag(state, viewFlag) {\n            state.viewFlag = viewFlag\n        },\n        changeViewFlag(state) {\n            state.viewFlag = !state.viewFlag\n        }\n    }\n}\n\nexport default task"]}]}